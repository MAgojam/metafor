<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Predicted Values for 'rma' Objects — predict.rma • metafor</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Predicted Values for 'rma' Objects — predict.rma"><meta property="og:description" content='The function computes predicted values, corresponding standard errors, confidence intervals, and prediction intervals for objects of class "rma". '><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@wviechtb"><meta name="twitter:site" content="@wviechtb"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"><script src="../darkswitch.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1-50</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/article/view/v036i03" class="external-link">JSS Article</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        <li>
  <a href="https://twitter.com/wviechtb" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
        
        


      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Predicted Values for 'rma' Objects</h1>
    
    <div class="hidden name"><code>predict.rma.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function computes predicted values, corresponding standard errors, confidence intervals, and prediction intervals for objects of class <code>"rma"</code>. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="co"># S3 method for rma</span>
<span class="fu">predict</span><span class="op">(</span><span class="va">object</span>, <span class="va">newmods</span>, <span class="va">intercept</span>, <span class="va">tau2.levels</span>, <span class="va">gamma2.levels</span>, addx<span class="op">=</span><span class="cn">FALSE</span>,
        <span class="va">level</span>, <span class="va">digits</span>, <span class="va">transf</span>, <span class="va">targs</span>, vcov<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for rma.ls</span>
<span class="fu">predict</span><span class="op">(</span><span class="va">object</span>, <span class="va">newmods</span>, <span class="va">intercept</span>, addx<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">newscale</span>, addz<span class="op">=</span><span class="cn">FALSE</span>,
        <span class="va">level</span>, <span class="va">digits</span>, <span class="va">transf</span>, <span class="va">targs</span>, vcov<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>an object of class <code>"rma"</code> or <code>"rma.ls"</code>.</p></dd>
<dt>newmods</dt>
<dd><p>optional vector or matrix to specify the values of the moderator values for which the predicted values should be calculated. See ‘Details’.</p></dd>
<dt>intercept</dt>
<dd><p>logical to specify whether the intercept should be included when calculating the predicted values for <code>newmods</code>. If unspecified, the intercept is automatically added when the original model also included an intercept.</p></dd>
<dt>tau2.levels</dt>
<dd><p>vector to specify the levels of the inner factor when computing prediction intervals. Only relevant for models of class <code>"rma.mv"</code> (see <code><a href="rma.mv.html">rma.mv</a></code>) and when the model includes more than a single <em></em>\(\tau^2\) value. See ‘Details’.</p></dd>
<dt>gamma2.levels</dt>
<dd><p>vector to specify the levels of the inner factor when computing prediction intervals. Only relevant for models of class <code>"rma.mv"</code> (see <code><a href="rma.mv.html">rma.mv</a></code>) and when the model includes more than a single <em></em>\(\gamma^2\) value. See ‘Details’.</p></dd>
<dt>addx</dt>
<dd><p>logical to specify whether the values of the moderator variables should be added to the returned object. See ‘Examples’.</p></dd>
<dt>newscale</dt>
<dd><p>optional vector or matrix to specify the values of the scale variables for which the predicted values should be calculated. Only relevant for location-scale models (see <code><a href="rma.uni.html">rma.uni</a></code>). See ‘Details’.</p></dd>
<dt>addz</dt>
<dd><p>logical to specify whether the values of the scale variables should be added to the returned object.</p></dd>
<dt>level</dt>
<dd><p>numeric value between 0 and 100 to specify the confidence and prediction interval level. If unspecified, the default is to take the value from the object.</p></dd>
<dt>digits</dt>
<dd><p>optional integer to specify the number of decimal places to which the printed results should be rounded. If unspecified, the default is to take the value from the object.</p></dd>
<dt>transf</dt>
<dd><p>optional argument to specify a function that should be used to transform the predicted values and interval bounds (e.g., <code>transf=exp</code>; see also <a href="transf.html">transf</a>). If unspecified, no transformation is used.</p></dd>
<dt>targs</dt>
<dd><p>optional arguments needed by the function specified under <code>transf</code>.</p></dd>
<dt>vcov</dt>
<dd><p>logical to specify whether the variance-covariance matrix of the predicted values should also be returned (the default is <code>FALSE</code>).</p></dd>
<dt>...</dt>
<dd><p>other arguments.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>For an equal-effects model, <code>predict(object)</code> returns the estimated (average) outcome in the set of studies included in the meta-analysis. This is the same as the estimated intercept in the equal-effects model (i.e., <em></em>\(\hat{\theta}\)).</p>
<p>For a random-effects model, <code>predict(object)</code> returns the estimated (average) outcome in the hypothetical population of studies from which the set of studies included in the meta-analysis are assumed to be a random selection. This is the same as the estimated intercept in the random-effects model (i.e., <em></em>\(\hat{\mu}\)).</p>
<p>For models including one or more moderators, <code>predict(object)</code> returns the estimated (average) outcomes for values of the moderator(s) equal to those of the <em></em>\(k\) studies included in the meta-analysis (i.e., the ‘fitted values’ for the <em></em>\(k\) studies).</p>
<p>For models including <em></em>\(p'\) moderator variables, new moderator values (for <em></em>\(k_{new}\) hypothetical new studies) can be specified by setting <code>newmods</code> equal to a <em></em>\(k_{new} \times p'\) matrix with the corresponding new moderator values. If the model object included an intercept, then it should not be explicitly specified under <code>newmods</code>, as it will be added by default (unless one sets <code>intercept=FALSE</code>). Also, any factors in the original model get turned into the appropriate contrast variables within the <code>rma</code> function, so that <code>newmods</code> should actually include the values for the contrast variables. Examples are shown below.</p>
<p>For random/mixed-effects models, an approximate prediction interval is also constructed (Riley et al., 2011). The interval estimates where <code>level</code> % of the true effect sizes or outcomes fall in the hypothetical population of studies (and hence where the true effect or outcome of a new study from the population of studies should fall in <code>level</code> % of the cases).</p>
<p>For random-effects models that were fitted with the <code><a href="rma.mv.html">rma.mv</a></code> function, the model may actually include multiple <em></em>\(\tau^2\) values (i.e., when the <code>random</code> argument includes an ‘<code>~ inner | outer</code>’ term and <code>struct="HCS"</code>, <code>struct="DIAG"</code>, <code>struct="HAR"</code>, or <code>struct="UN"</code>). In that case, the function will provide prediction intervals for each level of the inner factor (since the prediction intervals differ depending on the <em></em>\(\tau^2\) value). Alternatively, one can use the <code>tau2.levels</code> argument to specify for which level(s) the prediction interval should be provided. If the model includes a second ‘<code>~ inner | outer</code>’ term with multiple <em></em>\(\gamma^2\) values, prediction intervals for each combination of levels of the inner factors will be provided. Alternatively, one can use the <code>tau2.levels</code> and <code>gamma2.levels</code> arguments to specify for which level combination(s) the prediction interval should be provided.</p>
<p>When using the <code>newmods</code> argument for mixed-effects models that were fitted with the <code><a href="rma.mv.html">rma.mv</a></code> function, if the model includes multiple <em></em>\(\tau^2\) (and multiple <em></em>\(\gamma^2\)) values, then one must use the <code>tau2.levels</code> (and <code>gamma2.levels</code>) argument to specify the levels of the inner factor(s) (i.e., a vector of length <em></em>\(k_{new}\)) to obtain the appropriate prediction interval(s).</p>
<p>For location-scale models fitted with the <code><a href="rma.uni.html">rma.uni</a></code> function, one can use <code>newmods</code> to specify the values of the <em></em>\(p'\) moderator variables included in the model and <code>newscale</code> to specify the values of the <em></em>\(q'\) scale variables included in the model. Whenever <code>newmods</code> is specified, the function computes predicted effects/outcomes for the specified moderators values. To obtain the corresponding prediction intervals, one must also specify the corresponding <code>newscale</code> values. If only <code>newscale</code> is specified (and not <code>newmods</code>), the function computes the predicted log-transformed <em></em>\(\tau^2\) values (when using a log link) for the specified scale values. By setting <code>transf=exp</code>, one can then obtain the predicted <em></em>\(\tau^2\) values.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of class <code>c("predict.rma","list.rma")</code>. The object is a list containing the following components:</p>
<dl><dt>pred</dt>
<dd><p>predicted value(s).</p></dd>
<dt>se</dt>
<dd><p>corresponding standard error(s).</p></dd>
<dt>ci.lb</dt>
<dd><p>lower bound of the confidence interval(s).</p></dd>
<dt>ci.ub</dt>
<dd><p>upper bound of the confidence interval(s).</p></dd>
<dt>pi.lb</dt>
<dd><p>lower bound of the prediction interval(s) (only for random/mixed-effects models).</p></dd>
<dt>pi.ub</dt>
<dd><p>upper bound of the prediction interval(s) (only for random/mixed-effects models).</p></dd>
<dt>tau2.level</dt>
<dd><p>the level(s) of the inner factor (only for models of class <code>"rma.mv"</code> with multiple <em></em>\(\tau^2\) values).</p></dd>
<dt>gamma2.level</dt>
<dd><p>the level(s) of the inner factor (only for models of class <code>"rma.mv"</code> with multiple <em></em>\(\gamma^2\) values).</p></dd>
<dt>X</dt>
<dd><p>the moderator value(s) used to calculate the predicted values (only when <code>addx=TRUE</code>).</p></dd>
<dt>Z</dt>
<dd><p>the scale value(s) used to calculate the predicted values (only when <code>addz=TRUE</code> and only for location-scale models).</p></dd>
<dt>...</dt>
<dd><p>some additional elements/values.</p></dd>
</dl><p>If <code>vcov=TRUE</code>, then the returned object is a list with the first element equal to the one as described above and the second element equal to the variance-covariance matrix of the predicted values.
   The object is formatted and printed with the <code><a href="print.list.rma.html">print</a></code> function.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Confidence and prediction intervals are constructed based on the critical values from a standard normal distribution (i.e., <em></em>\(\pm 1.96\) for <code>level=95</code>). When the model was fitted with <code>test="t"</code> or <code>test="knha"</code>, then a t-distribution with <em></em>\(k-p\) degrees of freedom is used.</p>
<p>For a random-effects model (where <em></em>\(p=1\)) fitted with the <code><a href="rma.uni.html">rma.uni</a></code> function, note that this differs slightly from Riley et al. (2001), who suggest to use a t-distribution with <em></em>\(k-2\) degrees of freedom for constructing the prediction interval. Neither a normal, nor a t-distribution with <em></em>\(k-1\) or <em></em>\(k-2\) degrees of freedom is correct; all of these are approximations. The computations are done in the way described above, so that the prediction interval is identical to the confidence interval when <em></em>\(\hat{\tau}^2 = 0\), which could be argued is the logical thing that should happen. If the prediction interval should be computed exactly as described by Riley et al. (2001), then one can use argument <code>pi.type="riley"</code>.</p>
<p>The predicted values are based only on the fixed effects of the model. Best linear unbiased predictions (BLUPs) that combine the fitted values based on the fixed effects and the estimated contributions of the random effects can be obtained with <code><a href="blup.html">blup</a></code> (currently only for objects of class <code>"rma.uni"</code>).</p>
<p>When using the <code>transf</code> option, the transformation is applied to the predicted values and the corresponding interval bounds. The standard errors are omitted from the printed output. Also, <code>vcov=TRUE</code> is ignored when using the <code>transf</code> option.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Wolfgang Viechtbauer <a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a> <a href="https://www.metafor-project.org" class="external-link">https://www.metafor-project.org</a></p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Hedges, L. V., &amp; Olkin, I. (1985). <em>Statistical methods for meta-analysis</em>. San Diego, CA: Academic Press.</p>
<p>Riley, R. D., Higgins, J. P. T., &amp; Deeks, J. J. (2011). Interpretation of random effects meta-analyses. <em>British Medical Journal</em>, <b>342</b>, d549. <a href="https://doi.org/10.1136/bmj.d549" class="external-link">https://doi.org/10.1136/bmj.d549</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1–48. <a href="https://doi.org/10.18637/jss.v036.i03" class="external-link">https://doi.org/10.18637/jss.v036.i03</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="fitted.rma.html">fitted.rma</a></code> for a function to extract the fitted values, <code><a href="blup.html">blup.rma.uni</a></code> for a function to compute BLUPs that combine the fitted values and predicted random effects, and <code><a href="addpoly.predict.rma.html">addpoly.predict.rma</a></code> to add polygons based on predicted values to a forest plot.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">### calculate log risk ratios and corresponding sampling variances</span></span>
<span class="r-in"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"RR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### fit random-effects model</span></span>
<span class="r-in"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### average risk ratio with 95% CI</span></span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, transf<span class="op">=</span><span class="va">exp</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    pred  ci.lb  ci.ub  pi.lb  pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.4894 0.3441 0.6962 0.1546 1.5490 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### fit mixed-effects model with absolute latitude as a moderator</span></span>
<span class="r-in"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="va">ablat</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### predicted average risk ratios for given absolute latitude values</span></span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, transf<span class="op">=</span><span class="va">exp</span>, addx<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      pred  ci.lb  ci.ub  pi.lb  pi.ub X.intrcpt X.ablat </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0.3574 0.2714 0.4705 0.1947 0.6560         1      44 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  0.2595 0.1749 0.3848 0.1328 0.5070         1      55 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  0.3788 0.2927 0.4901 0.2079 0.6900         1      42 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  0.2831 0.1977 0.4054 0.1478 0.5422         1      52 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  0.8809 0.6321 1.2276 0.4667 1.6625         1      13 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  0.3574 0.2714 0.4705 0.1947 0.6560         1      44 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  0.7397 0.5639 0.9704 0.4036 1.3557         1      19 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  0.8809 0.6321 1.2276 0.4667 1.6625         1      13 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  0.5861 0.4716 0.7284 0.3270 1.0505         1      27 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 0.3788 0.2927 0.4901 0.2079 0.6900         1      42 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 0.7616 0.5752 1.0083 0.4138 1.4016         1      18 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 0.4922 0.3989 0.6073 0.2753 0.8799         1      33 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 0.4922 0.3989 0.6073 0.2753 0.8799         1      33 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### predicted average risk ratios for 10-60 degrees absolute latitude</span></span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">50</span>, <span class="fl">60</span><span class="op">)</span>, transf<span class="op">=</span><span class="va">exp</span>, addx<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred  ci.lb  ci.ub  pi.lb  pi.ub X.intrcpt X.ablat </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.9612 0.6668 1.3857 0.5000 1.8478         1      10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.7185 0.5526 0.9343 0.3936 1.3117         1      20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.5371 0.4355 0.6623 0.3005 0.9600         1      30 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.4015 0.3151 0.5115 0.2218 0.7266         1      40 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.3001 0.2144 0.4201 0.1586 0.5678         1      50 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 0.2243 0.1423 0.3538 0.1105 0.4552         1      60 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### fit mixed-effects model with absolute latitude and publication year as moderators</span></span>
<span class="r-in"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="va">ablat</span> <span class="op">+</span> <span class="va">year</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### predicted average risk ratios for 10 and 60 degrees latitude in 1950 and 1980</span></span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">60</span>,<span class="fl">10</span>,<span class="fl">60</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1950</span>,<span class="fl">1950</span>,<span class="fl">1980</span>,<span class="fl">1980</span><span class="op">)</span><span class="op">)</span>, transf<span class="op">=</span><span class="va">exp</span>, addx<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred  ci.lb  ci.ub  pi.lb  pi.ub X.intrcpt X.ablat X.year </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.8995 0.3689 2.1933 0.2981 2.7146         1      10   1950 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.2217 0.1278 0.3847 0.0944 0.5208         1      60   1950 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.9525 0.6199 1.4637 0.4361 2.0802         1      10   1980 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.2348 0.1005 0.5481 0.0805 0.6843         1      60   1980 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### fit mixed-effects model with two moderators (one of which is a factor)</span></span>
<span class="r-in"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="va">ablat</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">alloc</span><span class="op">)</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### examine how the factor was actually coded for the studies in the dataset</span></span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, addx<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pred     se   ci.lb   ci.ub   pi.lb   pi.ub X.intrcpt X.ablat X.factor.alloc.random </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  -1.1744 0.2137 -1.5932 -0.7557 -2.0293 -0.3196         1      44                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  -1.4745 0.2742 -2.0119 -0.9370 -2.3933 -0.5556         1      55                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  -1.1199 0.2061 -1.5238 -0.7159 -1.9676 -0.2722         1      42                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  -1.3926 0.2552 -1.8928 -0.8925 -2.2902 -0.4951         1      52                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  -0.0614 0.3336 -0.7152  0.5924 -1.0528  0.9300         1      13                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  -0.9069 0.3176 -1.5295 -0.2844 -1.8780  0.0642         1      44                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  -0.4925 0.2338 -0.9508 -0.0343 -1.3674  0.3823         1      19                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  -0.3289 0.2694 -0.8568  0.1991 -1.2422  0.5845         1      13                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  -0.7107 0.2007 -1.1040 -0.3175 -1.5534  0.1320         1      27                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 -0.7939 0.2667 -1.3166 -0.2712 -1.7042  0.1164         1      42                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 -0.1393 0.2654 -0.6594  0.3808 -1.0481  0.7695         1      18                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 -0.5484 0.2438 -1.0263 -0.0706 -1.4337  0.3369         1      33                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 -0.5484 0.2438 -1.0263 -0.0706 -1.4337  0.3369         1      33                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    X.factor.alloc.systematic </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                         1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                         1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                         1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                         1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### predictd average risk ratios at 30 degrees for the three factor levels</span></span>
<span class="r-in"><span class="co">### note: the contrast (dummy) variables need to specified explicitly here</span></span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, addx<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>   <span class="co"># for alternate  allocation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred     se   ci.lb  ci.ub   pi.lb  pi.ub X.intrcpt X.ablat X.factor.alloc.random </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.5251 0.2923 -1.0980 0.0478 -1.4651 0.4149         1      30                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  X.factor.alloc.systematic </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, addx<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>   <span class="co"># for random     allocation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred     se   ci.lb   ci.ub   pi.lb  pi.ub X.intrcpt X.ablat X.factor.alloc.random </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.7926 0.1941 -1.1729 -0.4122 -1.6293 0.0442         1      30                     1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  X.factor.alloc.systematic </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, addx<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>   <span class="co"># for systematic allocation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred     se   ci.lb  ci.ub   pi.lb  pi.ub X.intrcpt X.ablat X.factor.alloc.random </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.4666 0.2420 -0.9410 0.0078 -1.3501 0.4168         1      30                     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  X.factor.alloc.systematic </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### can also use named vector with arbitrary order and abbreviated variable names</span></span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>sys<span class="op">=</span><span class="fl">0</span>, ran<span class="op">=</span><span class="fl">0</span>, abl<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred     se   ci.lb  ci.ub   pi.lb  pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.5251 0.2923 -1.0980 0.0478 -1.4651 0.4149 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>sys<span class="op">=</span><span class="fl">0</span>, ran<span class="op">=</span><span class="fl">1</span>, abl<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred     se   ci.lb   ci.ub   pi.lb  pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.7926 0.1941 -1.1729 -0.4122 -1.6293 0.0442 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">predict</span><span class="op">(</span><span class="va">res</span>, newmods<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>sys<span class="op">=</span><span class="fl">1</span>, ran<span class="op">=</span><span class="fl">0</span>, abl<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pred     se   ci.lb  ci.ub   pi.lb  pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.4666 0.2420 -0.9410 0.0078 -1.3501 0.4168 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    appId: 'SFWCWKDGL8',
    
    apiKey: 'b56f56470243cf9799f796a3d6ecaedd',
    indexName: 'metafor',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

