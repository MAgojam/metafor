<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Convert Data from a Long to a Wide Format — to.wide • metafor</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Convert Data from a Long to a Wide Format — to.wide"><meta property="og:description" content="The function converts data given in long format to a wide format."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@wviechtb"><meta name="twitter:site" content="@wviechtb"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"><script src="../darkswitch.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.5-15</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/article/view/v036i03" class="external-link">JSS Article</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        <li>
  <a href="https://twitter.com/wviechtb" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
        
        


      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert Data from a Long to a Wide Format</h1>
    
    <div class="hidden name"><code>to.wide.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function converts data given in long format to a wide format.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">to.wide</span><span class="op">(</span><span class="va">data</span>, <span class="va">study</span>, <span class="va">grp</span>, <span class="va">ref</span>, <span class="va">grpvars</span>, postfix<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".1"</span>,<span class="st">".2"</span><span class="op">)</span>,</span>
<span>        addid<span class="op">=</span><span class="cn">TRUE</span>, addcomp<span class="op">=</span><span class="cn">TRUE</span>, adddesign<span class="op">=</span><span class="cn">TRUE</span>, minlen<span class="op">=</span><span class="fl">2</span>,</span>
<span>        var.names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>,<span class="st">"comp"</span>,<span class="st">"design"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>a data frame in long format.</p></dd>

   <dt>study</dt>
<dd><p>either the name (given as a character string) or the position (given as a single number) of the study variable in the data frame.</p></dd>

   <dt>grp</dt>
<dd><p>either the name (given as a character string) or the position (given as a single number) of the group variable in the data frame.</p></dd>

   <dt>ref</dt>
<dd><p>optional character string to specify the reference group (must be one of the groups in the group variable). If not given, the most frequently occurring group is used as the reference group.</p></dd>

   <dt>grpvars</dt>
<dd><p>either the names (given as a character vector) or the positions (given as a numeric vector) of the group-level variables.</p></dd>

   <dt>postfix</dt>
<dd><p>a character string of length 2 giving the affix that is placed after the names of the group-level variables for the first and second group.</p></dd>

   <dt>addid</dt>
<dd><p>logical to specify whether a row id variable should be added to the data frame (the default is <code>TRUE</code>).</p></dd>

   <dt>addcomp</dt>
<dd><p>logical to specify whether a comparison id variable should be added to the data frame (the default is <code>TRUE</code>).</p></dd>

   <dt>adddesign</dt>
<dd><p>logical to specify whether a design id variable should be added to the data frame (the default is <code>TRUE</code>).</p></dd>

   <dt>minlen</dt>
<dd><p>integer to specify the minimum length of the shortened group names for the comparison and design id variables (the default is 2).</p></dd>

   <dt>var.names</dt>
<dd><p>a character string with three elements to specify the name of the id, comparison, and design variables (the defaults are <code>"id"</code>, <code>"comp"</code>, and <code>"design"</code>, respectively).</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>A meta-analytic dataset may be structured in a ‘long’ format, where each row in the dataset corresponds to a particular study group (e.g., treatment arm). Using this function, such a dataset can be restructured into a ‘wide’ format, where each group within a study is contrasted against a particular reference group.</p>
<p>The <code>study</code> and <code>group</code> arguments are used to specify the study and group variables in the dataset (either as character strings or as numbers indicating the column positions of these variables in the dataset). Optional argument <code>ref</code> is used to specify the reference group (this must be one of the groups in the <code>group</code> variable). Argument <code>grpvars</code> is used to specify (either as a character vector or by giving the column positions) of those variables in the dataset that correspond to group-level outcomes (the remaining variables are treated as study-level outcomes).</p>
<p>The dataset is restructured so that a two-group study will yield a single row in the restructured dataset, contrasting the first group against the second/reference group. For studies with more than two groups (often called ‘multiarm’ or ‘multitreatment’ studies in the medical literature), the reference group is repeated as many times as needed (so a three-group study would yield two rows in the restructured dataset, contrasting two groups against a common reference group).</p>
<p>If a study does not include the reference group, then another group from the study will be used as the reference group. This group is chosen based on the factor levels of the <code>grp</code> variable (i.e., the last level that occurs in the study becomes the reference group).</p>
<p>To distinguish the names of the group-level outcome variables for the two first and second group in the restructured dataset, the strings given for the <code>postfix</code> argument are placed after the respective variable names.</p>
<p>If requested, row id, comparison id, and design id variables are added to the restructured dataset. The row id is simply a unique number for each row in the dataset. The comparison id variable indicates which two groups have been compared against each other). The design id variable indicates which groups were included in a particular study. The group names are shortened for the comparison and design variables (to at least <code>minlen</code>; the actual length might be longer to ensure uniqueness of the group names).</p>
<p>The examples below illustrate the use of this function.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data frame with rows contrasting groups against a reference group and an appropriate number of columns (depending on the number of group-level outcome variables).</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Wolfgang Viechtbauer <a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a> <a href="https://www.metafor-project.org" class="external-link">https://www.metafor-project.org</a></p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1–48. <a href="https://doi.org/10.18637/jss.v036.i03" class="external-link">https://doi.org/10.18637/jss.v036.i03</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="contrmat.html">contrmat</a></code> for a function to construct a contrast matrix based on a dataset in wide format.</p>
<p><code><a href="https://wviechtb.github.io/metadat/reference/dat.hasselblad1998.html" class="external-link">dat.hasselblad1998</a></code>, <code><a href="https://wviechtb.github.io/metadat/reference/dat.lopez2019.html" class="external-link">dat.lopez2019</a></code>, <code><a href="https://wviechtb.github.io/metadat/reference/dat.obrien2003.html" class="external-link">dat.obrien2003</a></code>, <code><a href="https://wviechtb.github.io/metadat/reference/dat.pagliaro1992.html" class="external-link">dat.pagliaro1992</a></code>, <code><a href="https://wviechtb.github.io/metadat/reference/dat.senn2013.html" class="external-link">dat.senn2013</a></code> for illustrative examples.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### data in long format</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.senn2013.html" class="external-link">dat.senn2013</a></span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    study comment     treatment  ni    mi   sdi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       De Fronzo (1995)  change     metformin 213 -1.70 1.459</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       De Fronzo (1995)  change       placebo 209  0.20 1.446</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           Lewin (2007)  change     metformin 431 -0.74 1.106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           Lewin (2007)  change       placebo 144  0.08 1.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          Willms (1999)  change     metformin  29 -2.50 0.862</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          Willms (1999)  change      acarbose  31 -2.30 1.782</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          Willms (1999)  change       placebo  29 -1.30 1.831</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        Davidson (2007)  change rosiglitazone 117 -1.20 1.097</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        Davidson (2007)  change       placebo 116  0.14 1.093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  Wolffenbuttel (1999)  change rosiglitazone 183 -0.90 1.100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  Wolffenbuttel (1999)  change       placebo 192  0.20 1.110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12         Kipnes (2001)  change  pioglitazone 182 -1.20 1.369</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13         Kipnes (2001)  change       placebo 181  0.10 1.024</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        Kerenyi (2004)  change rosiglitazone 160 -0.91 0.990</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        Kerenyi (2004)  change       placebo 154 -0.14 0.920</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16       Hanefeld (2004)     raw  pioglitazone 319  7.61 1.072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17       Hanefeld (2004)     raw     metformin 320  7.45 1.073</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18         Derosa (2004)     raw  pioglitazone  45  6.80 0.800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19         Derosa (2004)     raw rosiglitazone  42  6.70 0.900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20          Baksi (2004)  change rosiglitazone 218 -1.20 1.112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21          Baksi (2004)  change       placebo 233  0.10 1.036</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22     Rosenstock (2008)  change rosiglitazone  59 -1.17 1.229</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23     Rosenstock (2008)  change       placebo  57 -0.08 1.208</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24            Zhu (2003)  change rosiglitazone 210 -1.90 1.470</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25            Zhu (2003)  change       placebo 105 -0.40 1.300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26           Yang (2003)  change rosiglitazone 102 -1.09 1.650</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27           Yang (2003)  change     metformin  96 -0.95 1.500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 Vongthavaravat (2002)  change rosiglitazone 164 -1.10 1.559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 Vongthavaravat (2002)  change  sulfonylurea 170  0.10 0.992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30          Oyama (2008)  change      acarbose  41 -0.70 0.800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31          Oyama (2008)  change  sulfonylurea  43 -0.30 0.600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32          Costa (1997)  change      acarbose  36 -1.10 0.360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33          Costa (1997)  change       placebo  29 -0.30 0.700</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34      Hermansen (2007)  change   sitagliptin 106 -0.30 0.940</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35      Hermansen (2007)  change       placebo 106  0.27 0.940</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36         Garber (2008)  change  vildagliptin 132 -0.63 1.034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37         Garber (2008)  change       placebo 144  0.07 1.080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38           Alex (1998)  change     metformin 291  0.13 1.428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39           Alex (1998)  change  sulfonylurea 300  0.50 1.450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40       Johnston (1994)  change      miglitol  68 -0.41 1.072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41       Johnston (1994)  change       placebo  63  0.33 1.032</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42      Johnston (1998a)  change      miglitol  91 -0.43 0.954</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43      Johnston (1998a)  change       placebo  43  0.98 1.311</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44            Kim (2007)  change rosiglitazone  57 -1.10 1.341</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45            Kim (2007)  change     metformin  56 -1.10 1.139</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46      Johnston (1998b)  change      miglitol  49 -0.12 1.400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47      Johnston (1998b)  change       placebo  34  0.56 1.166</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48 Gonzalez-Ortiz (2004)  change     metformin  34 -1.30 1.861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49 Gonzalez-Ortiz (2004)  change       placebo  37 -0.90 1.803</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50         Stucci (1996)     raw    benfluorex  28  8.03 1.290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51         Stucci (1996)     raw       placebo  30  8.26 1.350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52         Moulin (2006)  change    benfluorex 161 -0.82 1.028</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53         Moulin (2006)  change       placebo 156  0.19 1.374</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### restructure to wide format</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">to.wide</span><span class="op">(</span><span class="va">dat</span>, study<span class="op">=</span><span class="st">"study"</span>, grp<span class="op">=</span><span class="st">"treatment"</span>, ref<span class="op">=</span><span class="st">"placebo"</span>, grpvars<span class="op">=</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    study comment   treatment.1 ni.1  mi.1 sdi.1   treatment.2 ni.2  mi.2 sdi.2 id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            Alex (1998)  change     metformin  291  0.13 1.428  sulfonylurea  300  0.50 1.450  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           Baksi (2004)  change rosiglitazone  218 -1.20 1.112       placebo  233  0.10 1.036  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           Costa (1997)  change      acarbose   36 -1.10 0.360       placebo   29 -0.30 0.700  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        Davidson (2007)  change rosiglitazone  117 -1.20 1.097       placebo  116  0.14 1.093  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       De Fronzo (1995)  change     metformin  213 -1.70 1.459       placebo  209  0.20 1.446  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          Derosa (2004)     raw  pioglitazone   45  6.80 0.800 rosiglitazone   42  6.70 0.900  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          Garber (2008)  change  vildagliptin  132 -0.63 1.034       placebo  144  0.07 1.080  7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  Gonzalez-Ortiz (2004)  change     metformin   34 -1.30 1.861       placebo   37 -0.90 1.803  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        Hanefeld (2004)     raw     metformin  320  7.45 1.073  pioglitazone  319  7.61 1.072  9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      Hermansen (2007)  change   sitagliptin  106 -0.30 0.940       placebo  106  0.27 0.940 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       Johnston (1994)  change      miglitol   68 -0.41 1.072       placebo   63  0.33 1.032 11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      Johnston (1998a)  change      miglitol   91 -0.43 0.954       placebo   43  0.98 1.311 12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13      Johnston (1998b)  change      miglitol   49 -0.12 1.400       placebo   34  0.56 1.166 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        Kerenyi (2004)  change rosiglitazone  160 -0.91 0.990       placebo  154 -0.14 0.920 14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15            Kim (2007)  change     metformin   56 -1.10 1.139 rosiglitazone   57 -1.10 1.341 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16         Kipnes (2001)  change  pioglitazone  182 -1.20 1.369       placebo  181  0.10 1.024 16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17          Lewin (2007)  change     metformin  431 -0.74 1.106       placebo  144  0.08 1.004 17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18         Moulin (2006)  change    benfluorex  161 -0.82 1.028       placebo  156  0.19 1.374 18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19          Oyama (2008)  change      acarbose   41 -0.70 0.800  sulfonylurea   43 -0.30 0.600 19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     Rosenstock (2008)  change rosiglitazone   59 -1.17 1.229       placebo   57 -0.08 1.208 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21         Stucci (1996)     raw    benfluorex   28  8.03 1.290       placebo   30  8.26 1.350 21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 Vongthavaravat (2002)  change rosiglitazone  164 -1.10 1.559  sulfonylurea  170  0.10 0.992 22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23         Willms (1999)  change      acarbose   31 -2.30 1.782       placebo   29 -1.30 1.831 23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24         Willms (1999)  change     metformin   29 -2.50 0.862       placebo   29 -1.30 1.831 24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  Wolffenbuttel (1999)  change rosiglitazone  183 -0.90 1.100       placebo  192  0.20 1.110 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26           Yang (2003)  change     metformin   96 -0.95 1.500 rosiglitazone  102 -1.09 1.650 26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27            Zhu (2003)  change rosiglitazone  210 -1.90 1.470       placebo  105 -0.40 1.300 27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     comp   design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  me-su    me-su</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  ro-pl    ro-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  ac-pl    ac-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  ro-pl    ro-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  me-pl    me-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  pi-ro    pi-ro</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  vi-pl    vi-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  me-pl    me-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  me-pi    me-pi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 si-pl    si-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 mi-pl    mi-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 mi-pl    mi-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 mi-pl    mi-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 ro-pl    ro-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 me-ro    me-ro</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 pi-pl    pi-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 me-pl    me-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 be-pl    be-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 ac-su    ac-su</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 ro-pl    ro-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 be-pl    be-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 ro-su    ro-su</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 ac-pl ac-me-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 me-pl ac-me-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 ro-pl    ro-pl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 me-ro    me-ro</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 ro-pl    ro-pl</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### data in long format</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.hasselblad1998.html" class="external-link">dat.hasselblad1998</a></span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id study            authors year            trt  xi   ni</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1     1        Reid et al. 1974     no_contact  75  731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2     1        Reid et al. 1974 ind_counseling 363  714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3     2    Cottraux et al. 1983     no_contact   9  140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4     2    Cottraux et al. 1983 ind_counseling  23  140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5     2    Cottraux et al. 1983 grp_counseling  10  138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6     3       Slama et al. 1990     no_contact   2  106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7     3       Slama et al. 1990 ind_counseling   9  205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8     4    Jamrozik et al. 1984     no_contact  58  549</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9     4    Jamrozik et al. 1984 ind_counseling 237 1561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10     5      Rabkin et al. 1984     no_contact   0   33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11     5      Rabkin et al. 1984 ind_counseling   9   48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12     6   Decker and Evans 1989      self_help  20   49</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13     6   Decker and Evans 1989 ind_counseling  16   43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14     7    Richmond et al. 1986     no_contact   3  100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15     7    Richmond et al. 1986 ind_counseling  31   98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 16     8              Leung 1991     no_contact   1   31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 17     8              Leung 1991 ind_counseling  26   95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 18     9  Mothersill et al. 1988      self_help  11   78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 19     9  Mothersill et al. 1988 ind_counseling  12   85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 20     9  Mothersill et al. 1988 grp_counseling  29  170</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21    10    Langford et al. 1983     no_contact   6   39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 22    10    Langford et al. 1983 ind_counseling  17   77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 23    11       Gritz et al. 1992     no_contact  79  702</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 24    11       Gritz et al. 1992      self_help  77  694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 25    12    Campbell et al. 1986     no_contact  18  671</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 26    12    Campbell et al. 1986      self_help  21  535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 27    13     Sanders et al. 1989     no_contact  64  642</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 28    13     Sanders et al. 1989 ind_counseling 107  761</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 29    14    Hilleman et al. 1993 ind_counseling  12   76</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 30    14    Hilleman et al. 1993 grp_counseling  20   74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 31    15     Gillams et al. 1984 ind_counseling   9   55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 32    15     Gillams et al. 1984 grp_counseling   3   26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33 33    16 Mogielnicki et al. 1986      self_help   7   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34 34    16 Mogielnicki et al. 1986 grp_counseling  32  127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35 35    17        Page et al. 1986     no_contact   5   62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36 36    17        Page et al. 1986 ind_counseling   8   90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37 37    18    Vetter and Ford 1990     no_contact  20  234</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38 38    18    Vetter and Ford 1990 ind_counseling  34  237</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39 39    19  Williams and Hall 1988     no_contact   0   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40 40    19  Williams and Hall 1988 grp_counseling   9   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41 41    20    Pallonen et al. 1994     no_contact   8  116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42 42    20    Pallonen et al. 1994      self_help  19  149</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43 43    21     Russell et al. 1983     no_contact  95 1107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44 44    21     Russell et al. 1983 ind_counseling 143 1031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45 45    22 Stewart and Rosser 1982     no_contact  15  187</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46 46    22 Stewart and Rosser 1982 ind_counseling  36  504</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47 47    23     Russell et al. 1979     no_contact  78  584</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48 48    23     Russell et al. 1979 ind_counseling  73  675</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49 49    24    Kendrick et al. 1995     no_contact  69 1177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50 50    24    Kendrick et al. 1995 ind_counseling  54  888</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### restructure to wide format</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">to.wide</span><span class="op">(</span><span class="va">dat</span>, study<span class="op">=</span><span class="st">"study"</span>, grp<span class="op">=</span><span class="st">"trt"</span>, ref<span class="op">=</span><span class="st">"no_contact"</span>, grpvars<span class="op">=</span><span class="fl">6</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id study            authors year          trt.1 xi.1 ni.1          trt.2 xi.2 ni.2  comp   design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1     1        Reid et al. 1974 ind_counseling  363  714     no_contact   75  731 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2     2    Cottraux et al. 1983 grp_counseling   10  138     no_contact    9  140 gr-no gr-in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3     2    Cottraux et al. 1983 ind_counseling   23  140     no_contact    9  140 in-no gr-in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4     3       Slama et al. 1990 ind_counseling    9  205     no_contact    2  106 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5     4    Jamrozik et al. 1984 ind_counseling  237 1561     no_contact   58  549 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6     5      Rabkin et al. 1984 ind_counseling    9   48     no_contact    0   33 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7     6   Decker and Evans 1989 ind_counseling   16   43      self_help   20   49 in-se    in-se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8     7    Richmond et al. 1986 ind_counseling   31   98     no_contact    3  100 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9     8              Leung 1991 ind_counseling   26   95     no_contact    1   31 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10     9  Mothersill et al. 1988 grp_counseling   29  170      self_help   11   78 gr-se gr-in-se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11     9  Mothersill et al. 1988 ind_counseling   12   85      self_help   11   78 in-se gr-in-se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12    10    Langford et al. 1983 ind_counseling   17   77     no_contact    6   39 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13    11       Gritz et al. 1992      self_help   77  694     no_contact   79  702 se-no    se-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14    12    Campbell et al. 1986      self_help   21  535     no_contact   18  671 se-no    se-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15    13     Sanders et al. 1989 ind_counseling  107  761     no_contact   64  642 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 16    14    Hilleman et al. 1993 grp_counseling   20   74 ind_counseling   12   76 gr-in    gr-in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 17    15     Gillams et al. 1984 grp_counseling    3   26 ind_counseling    9   55 gr-in    gr-in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 18    16 Mogielnicki et al. 1986 grp_counseling   32  127      self_help    7   66 gr-se    gr-se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 19    17        Page et al. 1986 ind_counseling    8   90     no_contact    5   62 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 20    18    Vetter and Ford 1990 ind_counseling   34  237     no_contact   20  234 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21    19  Williams and Hall 1988 grp_counseling    9   20     no_contact    0   20 gr-no    gr-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 22    20    Pallonen et al. 1994      self_help   19  149     no_contact    8  116 se-no    se-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 23    21     Russell et al. 1983 ind_counseling  143 1031     no_contact   95 1107 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 24    22 Stewart and Rosser 1982 ind_counseling   36  504     no_contact   15  187 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 25    23     Russell et al. 1979 ind_counseling   73  675     no_contact   78  584 in-no    in-no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 26    24    Kendrick et al. 1995 ind_counseling   54  888     no_contact   69 1177 in-no    in-no</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    appId: 'SFWCWKDGL8',
    
    apiKey: 'b56f56470243cf9799f796a3d6ecaedd',
    indexName: 'metafor',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

