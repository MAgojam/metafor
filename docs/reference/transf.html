<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="A set of transformation functions useful for meta-analyses. "><title>Transformation Functions — transf • metafor</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transformation Functions — transf"><meta property="og:description" content="A set of transformation functions useful for meta-analyses. "><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@wviechtb"><meta name="twitter:site" content="@wviechtb"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">metafor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1-36</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/metafor-package.html">Introduction</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.jstatsoft.org/article/view/v036i03">JSS Article</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Transformation Functions</h1>
      
      <div class="d-none name"><code>transf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A set of transformation functions useful for meta-analyses. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">transf.rtoz</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.ztor</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.logit</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.ilogit</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.arcsin</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.iarcsin</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.pft</span><span class="op">(</span><span class="va">xi</span>, <span class="va">ni</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.ipft</span><span class="op">(</span><span class="va">xi</span>, <span class="va">ni</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.ipft.hm</span><span class="op">(</span><span class="va">xi</span>, <span class="va">targs</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.isqrt</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.irft</span><span class="op">(</span><span class="va">xi</span>, <span class="va">ti</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.iirft</span><span class="op">(</span><span class="va">xi</span>, <span class="va">ti</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.ahw</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.iahw</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.abt</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.iabt</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.ztor.int</span><span class="op">(</span><span class="va">xi</span>, <span class="va">targs</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.exp.int</span><span class="op">(</span><span class="va">xi</span>, <span class="va">targs</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.ilogit.int</span><span class="op">(</span><span class="va">xi</span>, <span class="va">targs</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.dtou1</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.dtou2</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.dtou3</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.dtorpb</span><span class="op">(</span><span class="va">xi</span>, <span class="va">n1i</span>, <span class="va">n2i</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.dtobesd</span><span class="op">(</span><span class="va">xi</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.dtomd</span><span class="op">(</span><span class="va">xi</span>, <span class="va">targs</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.logortord</span><span class="op">(</span><span class="va">xi</span>, <span class="va">pc</span>, <span class="va">...</span><span class="op">)</span>
<span class="fu">transf.logortorr</span><span class="op">(</span><span class="va">xi</span>, <span class="va">pc</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>xi</dt>
<dd><p>vector of values to be transformed.</p></dd>
<dt>ni</dt>
<dd><p>vector of sample sizes.</p></dd>
<dt>n1i</dt>
<dd><p>vector of sample sizes for the first group.</p></dd>
<dt>n2i</dt>
<dd><p>vector of sample sizes for the second group.</p></dd>
<dt>ti</dt>
<dd><p>vector of person-times at risk.</p></dd>
<dt>pc</dt>
<dd><p>control group risk (either a single value or a vector).</p></dd>
<dt>targs</dt>
<dd><p>list with additional arguments for the transformation function. See ‘Details’.</p></dd>
<dt>...</dt>
<dd><p>other arguments.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following transformation functions are currently implemented:</p><ul><li><p><code>transf.rtoz</code>: Fisher's r-to-z transformation for correlations.</p></li>
<li><p><code>transf.ztor</code>: inverse of Fisher's r-to-z transformation.</p></li>
<li><p><code>transf.logit</code>: logit (log odds) transformation for proportions.</p></li>
<li><p><code>transf.ilogit</code>: inverse of the logit transformation.</p></li>
<li><p><code>transf.arcsin</code>: arcsine square root transformation for proportions.</p></li>
<li><p><code>transf.iarcsin</code>: inverse of the arcsine transformation.</p></li>
<li><p><code>transf.pft</code>: Freeman-Tukey (double arcsine) transformation for proportions. See Freeman &amp; Tukey (1950). The <code>xi</code> argument is used to specify the proportions and the <code>ni</code> argument the corresponding sample sizes.</p></li>
<li><p><code>transf.ipft</code>: inverse of the Freeman-Tukey (double arcsine) transformation for proportions. See Miller (1978).</p></li>
<li><p><code>transf.ipft.hm</code>: inverse of the Freeman-Tukey (double arcsine) transformation for proportions using the harmonic mean of the sample sizes for the back-transformation. See Miller (1978). The sample sizes are specified via the <code>targs</code> argument (the list element should be called <code>ni</code>).</p></li>
<li><p><code>transf.isqrt</code>: inverse of the square root transformation (i.e., function to square a number).</p></li>
<li><p><code>transf.irft</code>: Freeman-Tukey transformation for incidence rates. See Freeman &amp; Tukey (1950). The <code>xi</code> argument is used to specify the incidence rates and the <code>ti</code> argument the corresponding person-times at risk.</p></li>
<li><p><code>transf.iirft</code>: inverse of the Freeman-Tukey transformation for incidence rates.</p></li>
<li><p><code>transf.ahw</code>: transformation of coefficient alpha as suggested by Hakstian &amp; Whalen (1976).</p></li>
<li><p><code>transf.iahw</code>: inverse of the transformation of coefficient alpha as suggested by Hakstian &amp; Whalen (1976).</p></li>
<li><p><code>transf.abt</code>: transformation of coefficient alpha as suggested by Bonett (2002).</p></li>
<li><p><code>transf.iabt</code>: inverse of the transformation of coefficient alpha as suggested by Bonett (2002).</p></li>
<li><p><code>transf.ztor.int</code>: integral transformation method for the z-to-r transformation.</p></li>
<li><p><code>transf.exp.int</code>: integral transformation method for the exponential transformation.</p></li>
<li><p><code>transf.ilogit.int</code>: integral transformation method for the inverse of the logit transformation.</p></li>
<li><p><code>transf.dtou1</code>: transformation of standardized mean differences to Cohen's U1 values (Cohen, 1988).</p></li>
<li><p><code>transf.dtou2</code>: transformation of standardized mean differences to Cohen's U2 values (Cohen, 1988).</p></li>
<li><p><code>transf.dtou3</code>: transformation of standardized mean differences to Cohen's U3 values (Cohen, 1988).</p></li>
<li><p><code>transf.dtocles</code>: transformation of standardized mean differences to common language effect size values (McGraw &amp; Wong, 1992).</p></li>
<li><p><code>transf.dtorpb</code>: transformation of standardized mean differences to point-biserial correlations. If <code>n1i</code> and <code>n2i</code> are not specified, the function assumes <code>n1i=n2i</code> and uses an approximate formula. If <code>n1i</code> and <code>n2i</code> are specified, the exact transformation formula is used.</p></li>
<li><p><code>transf.dtobesd</code>: transformation of standardized mean differences to binomial effect size display values (Rosenthal &amp; Rubin, 1982). Note that the function only provides the proportion in the first group scoring above the median (the proportion in the second group scoring above the median is simply one minus the proportion in the first group scoring above the median).</p></li>
<li><p><code>transf.dtomd</code>: transformation of standardized mean differences to mean differences given a known standard deviation, which must be specified via the <code>targs</code> argument.</p></li>
<li><p><code>transf.logortord</code>: transformation of log odds ratios to risk differences, assuming a particular value for the control group risk (which needs to be specified via the <code>pc</code> argument).</p></li>
<li><p><code>transf.logortorr</code>: transformation of log odds ratios to risk ratios, assuming a particular value for the control group risk (which needs to be specified via the <code>pc</code> argument).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A vector with the transformed values.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The integral transformation method for a transformation function <em></em>\(h(z)\) integrates <em></em>\(h(z) f(z)\) over <em></em>\(z\) using the limits <code>targs$lower</code> and <code>targs$upper</code>, where <em></em>\(f(z)\) is the density of a normal distribution with mean equal to <code>xi</code> and variance equal to <code>targs$tau2</code>. An example is provided below.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Wolfgang Viechtbauer <a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a> <a href="https://www.metafor-project.org" class="external-link">https://www.metafor-project.org</a></p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bonett, D. G. (2002). Sample size requirements for testing and estimating coefficient alpha. <em>Journal of Educational and Behavioral Statistics</em>, <b>27</b>(4), 335--340. <a href="https://doi.org/10.3102/10769986027004335" class="external-link">https://doi.org/10.3102/10769986027004335</a></p>
<p>Cohen, J. (1988). <em>Statistical power analysis for the behavioral sciences</em> (2nd ed.). Hillsdale, NJ: Lawrence Erlbaum Associates.</p>
<p>Fisher, R. A. (1921). On the “probable error” of a coefficient of correlation deduced from a small sample. <em>Metron</em>, <b>1</b>, 1--32. <a href="http://hdl.handle.net/2440/15169" class="external-link">http://hdl.handle.net/2440/15169</a></p>
<p>Freeman, M. F., &amp; Tukey, J. W. (1950). Transformations related to the angular and the square root. <em>Annals of Mathematical Statistics</em>, <b>21</b>(4), 607--611. <a href="https://doi.org/10.1214/aoms/1177729756" class="external-link">https://doi.org/10.1214/aoms/1177729756</a></p>
<p>Hakstian, A. R., &amp; Whalen, T. E. (1976). A k-sample significance test for independent alpha coefficients. <em>Psychometrika</em>, <b>41</b>(2), 219--231. <a href="https://doi.org/10.1007/BF02291840" class="external-link">https://doi.org/10.1007/BF02291840</a></p>
<p>McGraw, K. O., &amp; Wong, S. P. (1992). A common language effect size statistic. <em>Psychological Bulletin</em>, <b>111</b>(2), 361--365. <a href="https://doi.org/10.1037/0033-2909.111.2.361" class="external-link">https://doi.org/10.1037/0033-2909.111.2.361</a></p>
<p>Miller, J. J. (1978). The inverse of the Freeman-Tukey double arcsine transformation. <em>American Statistician</em>, <b>32</b>(4), 138. <a href="https://doi.org/10.1080/00031305.1978.10479283" class="external-link">https://doi.org/10.1080/00031305.1978.10479283</a></p>
<p>Rosenthal, R., &amp; Rubin, D. B. (1982). A simple, general purpose display of magnitude of experimental effect. <em>Journal of Educational Psychology</em>, <b>74</b>(2), 166--169. <a href="https://doi.org/10.1037/0022-0663.74.2.166" class="external-link">https://doi.org/10.1037/0022-0663.74.2.166</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href="https://doi.org/10.18637/jss.v036.i03" class="external-link">https://doi.org/10.18637/jss.v036.i03</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">### calculate log risk ratios and corresponding sampling variances</span></span>
<span class="r-in"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"RR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### fit random-effects model</span></span>
<span class="r-in"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### average risk ratio with 95% CI (but technically, this provides an</span></span>
<span class="r-in"><span class="co">### estimate of the median risk ratio, not the mean risk ratio!)</span></span>
<span class="r-in"><span class="fu"><a href="predict.rma.html">predict</a></span><span class="op">(</span><span class="va">res</span>, transf<span class="op">=</span><span class="va">exp</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    pred  ci.lb  ci.ub  pi.lb  pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.4894 0.3441 0.6962 0.1546 1.5490 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">### average risk ratio with 95% CI using the integral transformation</span></span>
<span class="r-in"><span class="fu"><a href="predict.rma.html">predict</a></span><span class="op">(</span><span class="va">res</span>, transf<span class="op">=</span><span class="va">transf.exp.int</span>, targs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>tau2<span class="op">=</span><span class="va">res</span><span class="op">$</span><span class="va">tau2</span>, lower<span class="op">=</span><span class="op">-</span><span class="fl">4</span>, upper<span class="op">=</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    pred  ci.lb  ci.ub  pi.lb  pi.ub </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.5724 0.4024 0.8142 0.1809 1.8117 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

    </footer></div>

  

  

  </body></html>

