<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Variance Inflation Factors for 'rma' Objects — vif • metafor</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Variance Inflation Factors for 'rma' Objects — vif"><meta property="og:description" content='Function to compute (generalized) variance inflation factors (VIFs) for objects of class "rma". '><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@wviechtb"><meta name="twitter:site" content="@wviechtb"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"><script src="../darkswitch.js"></script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.7-29</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/article/view/v036i03" class="external-link">JSS Article</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>

        <li>
  <a href="https://scholar.social/@wviechtb" class="external-link">Mastodon</a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor" class="external-link">GitHub</a>
</li>




      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>

    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Variance Inflation Factors for 'rma' Objects</h1>

    <div class="hidden name"><code>vif.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to compute (generalized) variance inflation factors (VIFs) for objects of class <code>"rma"</code>. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">vif</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'rma'</span></span>
<span><span class="fu">vif</span><span class="op">(</span><span class="va">x</span>, <span class="va">btt</span>, <span class="va">att</span>, table<span class="op">=</span><span class="cn">FALSE</span>, reestimate<span class="op">=</span><span class="cn">FALSE</span>, sim<span class="op">=</span><span class="cn">FALSE</span>, progbar<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>    seed<span class="op">=</span><span class="cn">NULL</span>, parallel<span class="op">=</span><span class="st">"no"</span>, ncpus<span class="op">=</span><span class="fl">1</span>, <span class="va">cl</span>, <span class="va">digits</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vif.rma'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, digits<span class="op">=</span><span class="va">x</span><span class="op">$</span><span class="va">digits</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object of class <code>"rma"</code> (for <code>vif</code>) or <code>"vif.rma"</code> (for <code>print</code>).</p></dd>

   <dt id="arg-btt">btt<a class="anchor" aria-label="anchor" href="#arg-btt"></a></dt>
<dd><p>optional vector of indices (or list thereof) to specify a set of coefficients for which a generalized variance inflation factor (GVIF) should be computed. Can also be a string to <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></code> for.</p></dd>

   <dt id="arg-att">att<a class="anchor" aria-label="anchor" href="#arg-att"></a></dt>
<dd><p>optional vector of indices (or list thereof) to specify a set of scale coefficients for which a generalized variance inflation factor (GVIF) should be computed. Can also be a string to <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></code> for. Only relevant for location-scale models (see <code><a href="rma.uni.html">rma.uni</a></code>).</p></dd>

   <dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>logical to specify whether the VIFs should be added to the model coefficient table (the default is <code>FALSE</code>). Only relevant when <code>btt</code> (or <code>att</code>) is not specified.</p></dd>

   <dt id="arg-reestimate">reestimate<a class="anchor" aria-label="anchor" href="#arg-reestimate"></a></dt>
<dd><p>logical to specify whether the model should be reestimated when removing moderator variables from the model for computing a (G)VIF (the default is <code>FALSE</code>).</p></dd>

   <dt id="arg-sim">sim<a class="anchor" aria-label="anchor" href="#arg-sim"></a></dt>
<dd><p>logical to specify whether the distribution of each (G)VIF under independence should be simulated (the default is <code>FALSE</code>). Can also be an integer to specify how many values to simulate (when <code>sim=TRUE</code>, the default is <code>1000</code>).</p></dd>

   <dt id="arg-progbar">progbar<a class="anchor" aria-label="anchor" href="#arg-progbar"></a></dt>
<dd><p>logical to specify whether a progress bar should be shown when <code>sim=TRUE</code> (the default is <code>TRUE</code>).</p></dd>

   <dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>optional value to specify the seed of the random number generator when <code>sim=TRUE</code> (for reproducibility).</p></dd>

   <dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>character string to specify whether parallel processing should be used (the default is <code>"no"</code>). For parallel processing, set to either <code>"snow"</code> or <code>"multicore"</code>. See ‘Note’.</p></dd>

   <dt id="arg-ncpus">ncpus<a class="anchor" aria-label="anchor" href="#arg-ncpus"></a></dt>
<dd><p>integer to specify the number of processes to use in the parallel processing.</p></dd>

   <dt id="arg-cl">cl<a class="anchor" aria-label="anchor" href="#arg-cl"></a></dt>
<dd><p>optional cluster to use if <code>parallel="snow"</code>. If unspecified, a cluster on the local machine is created for the duration of the call.</p></dd>

   <dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>optional integer to specify the number of decimal places to which the printed results should be rounded. If unspecified, the default is to take the value from the object.</p></dd>

   <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other arguments.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function computes (generalized) variance inflation factors (VIFs) for meta-regression models. Hence, the model specified via argument <code>x</code> must include moderator variables (and more than one for this to be useful, as the VIF for a model with a single moderator variable will always be equal to 1).</p>
<p></p><div class="section">
<h3 id="vifs-for-individual-coefficients">VIFs for Individual Coefficients<a class="anchor" aria-label="anchor" href="#vifs-for-individual-coefficients"></a></h3>


<p>By default (i.e., if <code>btt</code> is not specified), VIFs are computed for the individual model coefficients.</p>
<p>Let <em></em>\(b_j\) denote the estimate of the <em></em>\(j\textrm{th}\) model coefficient of a particular meta-regression model and <em></em>\(\text{Var}[b_j]\) its variance (i.e., the corresponding diagonal element from the matrix obtained with the <code><a href="vcov.rma.html">vcov</a></code> function). Moreover, let <em></em>\(b'_j\) denote the estimate of the same model coefficient if the other moderator variables in the model had <em>not</em> been included in the model and <em></em>\(\text{Var}[b'_j]\) the corresponding variance. Then the VIF for the model coefficient is given by \[\text{VIF}[b_j] = \frac{\text{Var}[b_j]}{\text{Var}[b'_j]},\] which indicates the inflation in the variance of the estimated model coefficient due to potential collinearity of the <em></em>\(j\textrm{th}\) moderator variable with the other moderator variables in the model. Taking the square root of a VIF gives the corresponding standard error inflation factor (SIF).</p>
<p></p>
</div>

<p></p><div class="section">
<h3 id="gvifs-for-sets-of-coefficients">GVIFs for Sets of Coefficients<a class="anchor" aria-label="anchor" href="#gvifs-for-sets-of-coefficients"></a></h3>


<p>If the model includes factors (coded in terms of multiple dummy variables) or other sets of moderator variables that belong together (e.g., for polynomials or cubic splines), one may want to examine how much the variance in all of the coefficients in the set is jointly impacted by collinearity with the other moderator variables in the model. For this, we can compute a generalized variance inflation factor (GVIF) (Fox &amp; Monette, 1992) by setting the <code>btt</code> argument equal to the indices of those coefficients for which the GVIF should be computed. The square root of a GVIF indicates the inflation in the confidence ellipse/(hyper)ellipsoid for the set of coefficients corresponding to the set due to collinearity. However, to make this value more directly comparable to SIFs (based on single coefficients), the function computes the generalized standard error inflation factor (GSIF) by raising the GVIF to the power of <em></em>\(1/(2m)\) (where <em></em>\(m\) denotes the number of coefficients in the set). One can also specify a list of indices/strings, in which case GVIFs/GSIFs of all list elements will be computed. See ‘Examples’.</p>
<p>For location-scale models fitted with the <code><a href="rma.uni.html">rma.uni</a></code> function, one can use the <code>att</code> argument in an analogous manner to specify the indices of the scale coefficients for which a GVIF should be computed.</p>
<p></p>
</div>

<p></p><div class="section">
<h3 id="re-estimating-the-model">Re-Estimating the Model<a class="anchor" aria-label="anchor" href="#re-estimating-the-model"></a></h3>


<p>The way the VIF is typically computed for a particular model coefficient (or a set thereof for a GVIF) makes use of some clever linear algebra to avoid having to re-estimate the model when removing the other moderator variables from the model. This speeds up the computations considerably. However, this assumes that the other moderator variables do not impact other aspects of the model, in particular the amount of residual heterogeneity (or, more generally, any variance/correlation components in a more complex model, such as those that can be fitted with the <code><a href="rma.mv.html">rma.mv</a></code> function).</p>
<p>For a more accurate (but slower) computation of each (G)VIF, one can set <code>reestimate=TRUE</code>, in which case the model is refitted to account for the impact that removal of the other moderator variables has on all aspects of the model. Note that refitting may fail, in which case the corresponding (G)VIF will be missing.</p>
<p></p>
</div>

<p></p><div class="section">
<h3 id="interpreting-the-size-of-g-vifs">Interpreting the Size of (G)VIFs<a class="anchor" aria-label="anchor" href="#interpreting-the-size-of-g-vifs"></a></h3>


<p>A large VIF value suggests that the precision with which we can estimate a particular model coefficient (or a set thereof for a GVIF) is negatively impacted by multicollinearity among the moderator variables. However, there is no specific cutoff for determining whether a particular (G)VIF is ‘large’. Sometimes, values such as 5 or 10 have been suggested as rules of thumb, but such cutoffs are essentially arbitrary.</p>
<p></p>
</div>

<p></p><div class="section">
<h3 id="simulating-the-distribution-of-g-vifs-under-independence">Simulating the Distribution of (G)VIFs Under Independence<a class="anchor" aria-label="anchor" href="#simulating-the-distribution-of-g-vifs-under-independence"></a></h3>


<p>As a more principled approach, we can simulate the distribution of a particular (G)VIF under independence and then examine how extreme the actually observed (G)VIF value is under this distribution. The distribution is simulated by randomly reshuffling the columns of the model matrix (to break any dependence between the moderators) and recomputing the (G)VIF. When setting <code>sim=TRUE</code>, this is done 1000 times (but one can also set <code>sim</code> to an integer to specify how many (G)VIF values should be simulated).</p>
<p>The way the model matrix is reshuffled depends on how the model was fitted. When the model was specified as a formula via the <code>mods</code> argument and the data was supplied via the <code>data</code> argument, then each column of the data frame specified via <code>data</code> is reshuffled and the formula is evaluated within the reshuffled data (creating the corresponding reshuffled model matrix). This way, factor/character variables are properly reshuffled and derived terms (e.g., interactions, polynomials, splines) are correct constructed. This is the recommended approach.</p>
<p>On the other hand, if the model matrix was directly supplied to the <code>mods</code> argument, then each column of the matrix is directly reshuffled. This is not recommended, since this approach cannot account for any inherent relationships between variables in the model matrix (e.g., an interaction term is the product of two variables and should not be reshuffled by itself).</p>
<p>Once the distribution of a (G)VIF under independence has been simulated, the proportion of simulated values that are smaller than the actually observed (G)VIF value is computed. If the proportion is close to 1, then this indicates that the actually observed (G)VIF value is extreme.</p>
<p>The general principle underlying the simulation approach is the same as that underlying Horn's parallel analysis (1965) for determining the number of components / factors to keep in a principal component / factor analysis.</p>
<p></p>
</div>


    </div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of class <code>"vif.rma"</code>. The object is a list containing the following components:</p>
<dl><dt>vif</dt>
<dd><p>a list of data frames with the (G)VIFs and (G)SIFs and some additional information.</p></dd>

   <dt>vifs</dt>
<dd><p>a vector with just the (G)VIFs.</p></dd>

   <dt>table</dt>
<dd><p>the model coefficient table (only when <code>table=TRUE</code>).</p></dd>

   <dt>sim</dt>
<dd><p>a matrix with the simulated (G)VIF values (only when <code>sim=TRUE</code>).</p></dd>

   <dt>prop</dt>
<dd><p>a vector with the proportions of simulated values that are smaller than the actually observed (G)VIF values (only when <code>sim=TRUE</code>).</p></dd>

   <dt>...</dt>
<dd><p>some additional elements/values.</p></dd>


</dl><p>When <code>x</code> was a location-scale model object and (G)VIFs can be computed for both the location and the scale coefficients, then the object is a list with elements <code>beta</code> and <code>alpha</code>, where each element is an <code>"vif.rma"</code> object as described above.</p>
<p>The results are formatted and printed with the <code>print</code> function. To format the results as a data frame, one can use the <code><a href="methods.vif.rma.html">as.data.frame</a></code> function. When <code>sim=TRUE</code>, the distribution of each (G)VIF can be plotted with the <code><a href="plot.vif.rma.html">plot</a></code> function.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>If the original model fitted involved redundant predictors that were dropped from the model, then <code>sim=TRUE</code> cannot be used. In this case, one should remove any redundancies in the original model fitted before using this method.</p>
<p>When using <code>sim=TRUE</code>, the model needs to be refitted (by default) 1000 times. When <code>sim=TRUE</code> is combined with <code>reestimate=TRUE</code>, then this value needs to be multiplied by the total number of (G)VIF values that are computed by the function. Hence, the combination of <code>sim=TRUE</code> with <code>reestimate=TRUE</code> is computationally expensive, especially for more complex models where model fitting can be slow.</p>
<p>When refitting the model fails, the simulated (G)VIF value(s) will be missing. It can also happen that one or multiple model coefficients become inestimable due to redundancies in the model matrix after the reshuffling. In this case, the corresponding simulated (G)VIF value(s) will be set to <code>Inf</code> (as that is the value of (G)VIFs in the limit as we approach perfect multicollinearity).</p>
<p>On machines with multiple cores, one can try to speed things up by delegating the model fitting to separate worker processes, that is, by setting <code>parallel="snow"</code> or <code>parallel="multicore"</code> and <code>ncpus</code> to some value larger than 1. Parallel processing makes use of the <code><a href="https://rdrr.io/r/parallel/parallel-package.html" class="external-link">parallel</a></code> package, using the <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makePSOCKcluster</a></code> and <code><a href="https://rdrr.io/r/parallel/clusterApply.html" class="external-link">parLapply</a></code> functions when <code>parallel="snow"</code> or using <code><a href="https://rdrr.io/r/parallel/mclapply.html" class="external-link">mclapply</a></code> when <code>parallel="multicore"</code> (the latter only works on Unix/Linux-alikes). With <code><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">parallel::detectCores()</a></code>, one can check on the number of available cores on the local machine.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Wolfgang Viechtbauer (<a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a>, <a href="https://www.metafor-project.org" class="external-link">https://www.metafor-project.org</a>).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Belsley, D. A., Kuh, E., &amp; Welsch, R. E. (1980). <em>Regression diagnostics</em>. New York: Wiley.</p>
<p>Fox, J., &amp; Monette, G. (1992). Generalized collinearity diagnostics. <em>Journal of the American Statistical Association</em>, <b>87</b>(417), 178–183. <a href="https://doi.org/10.2307/2290467" class="external-link">https://doi.org/10.2307/2290467</a></p>
<p>Horn, J. L. (1965). A rationale and test for the number of factors in factor analysis. <em>Psychometrika</em>, <b>30</b>(2), 179–185. <a href="https://doi.org/10.1007/BF02289447" class="external-link">https://doi.org/10.1007/BF02289447</a></p>
<p>Stewart, G. W. (1987). Collinearity and least squares regression. <em>Statistical Science</em>, <b>2</b>(1), 68–84. <a href="https://doi.org/10.1214/ss/1177013439" class="external-link">https://doi.org/10.1214/ss/1177013439</a></p>
<p>Wax, Y. (1992). Collinearity diagnosis for a relative risk regression-analysis: An application to assessment of diet cancer relationship in epidemiologic studies. <em>Statistics in Medicine</em>, <b>11</b>(10), 1273–1287. <a href="https://doi.org/10.1002/sim.4780111003" class="external-link">https://doi.org/10.1002/sim.4780111003</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1–48. <a href="https://doi.org/10.18637/jss.v036.i03" class="external-link">https://doi.org/10.18637/jss.v036.i03</a></p>
<p>Viechtbauer, W., &amp; López-López, J. A. (2022). Location-scale models for meta-analysis. <em>Research Synthesis Methods</em>. <b>13</b>(6), 697–715. <a href="https://doi.org/10.1002/jrsm.1562" class="external-link">https://doi.org/10.1002/jrsm.1562</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="rma.uni.html">rma.uni</a></code>, <code><a href="rma.glmm.html">rma.glmm</a></code>, and <code><a href="rma.mv.html">rma.mv</a></code> for functions to fit models for which variance inflation factors can be computed.</p>
<p><code><a href="plot.vif.rma.html">plot</a></code> for the plot method and <code><a href="methods.vif.rma.html">as.data.frame</a></code> for the method to format the results as a data frame.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### copy data from Bangert-Drowns et al. (2004) into 'dat'</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bangertdrowns2004.html" class="external-link">dat.bangertdrowns2004</a></span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### fit mixed-effects meta-regression model</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="va">length</span> <span class="op">+</span> <span class="va">wic</span> <span class="op">+</span> <span class="va">feedback</span> <span class="op">+</span> <span class="va">info</span> <span class="op">+</span> <span class="va">pers</span> <span class="op">+</span> <span class="va">imag</span> <span class="op">+</span> <span class="va">meta</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>7 studies with NAs omitted from model fitting.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### get variance inflation factors</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> length     wic  feedback    info    pers    imag    meta </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.5371  1.3860    1.6490  1.8340  5.6780  1.1554  4.5333 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### use the simulation approach to analyze the size of the VIFs</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, sim<span class="op">=</span><span class="cn">TRUE</span>, seed<span class="op">=</span><span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              vif  prop </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> length    1.5371  0.95 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wic       1.3860  0.86 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> feedback  1.6490  0.98 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> info      1.8340  0.98 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pers      5.6780  1.00 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> imag      1.1554  0.47 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> meta      4.5333  1.00 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### get variance inflation factors using the re-estimation approach</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, reestimate<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> length     wic  feedback    info    pers    imag    meta </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.3877  1.2043    1.5060  1.4980  5.2195  1.4386  4.3244 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### show that VIFs are not influenced by scaling of the predictors</span></span></span>
<span class="r-in"><span><span class="va">u</span> <span class="op">&lt;-</span> <span class="va">scale</span> <span class="co"># to standardize the predictors</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="fu">u</span><span class="op">(</span><span class="va">length</span><span class="op">)</span> <span class="op">+</span> <span class="fu">u</span><span class="op">(</span><span class="va">wic</span><span class="op">)</span> <span class="op">+</span> <span class="fu">u</span><span class="op">(</span><span class="va">feedback</span><span class="op">)</span> <span class="op">+</span> <span class="fu">u</span><span class="op">(</span><span class="va">info</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>                            <span class="fu">u</span><span class="op">(</span><span class="va">pers</span><span class="op">)</span> <span class="op">+</span> <span class="fu">u</span><span class="op">(</span><span class="va">imag</span><span class="op">)</span> <span class="op">+</span> <span class="fu">u</span><span class="op">(</span><span class="va">meta</span><span class="op">)</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>7 studies with NAs omitted from model fitting.</span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, reestimate<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(length)  u(wic)  u(feedback)  u(info)  u(pers)  u(imag)  u(meta) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1.3877  1.2043       1.5060   1.4980   5.2195   1.4386   4.3244 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### get full table</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, reestimate<span class="op">=</span><span class="cn">TRUE</span>, table<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             estimate     se    zval   pval   ci.lb  ci.ub    vif    sif </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> intrcpt       0.1825 0.0406  4.4898 &lt;.0001  0.1028 0.2621     NA     NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(length)     0.0458 0.0496  0.9240 0.3555 -0.0514 0.1431 1.3877 1.1780 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(wic)       -0.0210 0.0487 -0.4308 0.6666 -0.1164 0.0744 1.2043 1.0974 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(feedback)   0.0329 0.0524  0.6265 0.5310 -0.0699 0.1357 1.5060 1.2272 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(info)      -0.0460 0.0418 -1.1006 0.2711 -0.1280 0.0360 1.4980 1.2239 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(pers)      -0.0573 0.0956 -0.5992 0.5490 -0.2446 0.1301 5.2195 2.2846 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(imag)       0.1004 0.0452  2.2233 0.0262  0.0119 0.1890 1.4386 1.1994 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> u(meta)       0.0981 0.0850  1.1537 0.2486 -0.0685 0.2647 4.3244 2.0795 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### calculate log risk ratios and corresponding sampling variances</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"RR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### fit meta-regression model where one predictor (alloc) is a three-level factor</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="va">ablat</span> <span class="op">+</span> <span class="va">alloc</span> <span class="op">+</span> <span class="va">year</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### get variance inflation factors for all individual coefficients</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, table<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 estimate      se    zval   pval    ci.lb   ci.ub    vif    sif </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> intrcpt         -14.4984 38.3943 -0.3776 0.7057 -89.7498 60.7531     NA     NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ablat            -0.0236  0.0132 -1.7816 0.0748  -0.0495  0.0024 1.7697 1.3303 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> allocrandom      -0.3421  0.4180 -0.8183 0.4132  -1.1613  0.4772 2.0858 1.4442 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> allocsystematic   0.0101  0.4467  0.0226 0.9820  -0.8654  0.8856 2.0193 1.4210 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> year              0.0075  0.0194  0.3849 0.7003  -0.0306  0.0456 1.9148 1.3838 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### generalized variance inflation factor for the 'alloc' factor</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, btt<span class="op">=</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Collinearity Diagnostics (coefficients 3:4):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GVIF = 1.2339, GSIF = 1.0540</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### can also specify a string to grep for</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, btt<span class="op">=</span><span class="st">"alloc"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Collinearity Diagnostics (coefficients 3:4):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GVIF = 1.2339, GSIF = 1.0540</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### can also specify a list for the 'btt' argument (and use the simulation approach)</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">res</span>, btt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>, sim<span class="op">=</span><span class="cn">TRUE</span>, seed<span class="op">=</span><span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   coefs m    vif    sif prop </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     2 1 1.7697 1.3303 0.83 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   3:4 2 1.2339 1.0540 0.23 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     5 1 1.9148 1.3838 0.87 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    appId: 'SFWCWKDGL8',

    apiKey: 'b56f56470243cf9799f796a3d6ecaedd',
    indexName: 'metafor',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

