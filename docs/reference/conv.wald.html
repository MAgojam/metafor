<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Convert Wald-Type Confidence Intervals and Tests to Sampling Variances — conv.wald • metafor</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Convert Wald-Type Confidence Intervals and Tests to Sampling Variances — conv.wald"><meta property="og:description" content="Function to convert Wald-type confidence intervals (CIs) and test statistics (or the corresponding p-values) to sampling variances. "><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@wviechtb"><meta name="twitter:site" content="@wviechtb"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"><script src="../darkswitch.js"></script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.7-58</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/article/view/v036i03" class="external-link">JSS Article</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>

        <li>
  <a href="https://scholar.social/@wviechtb" class="external-link">Mastodon</a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor" class="external-link">GitHub</a>
</li>




      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>

    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert Wald-Type Confidence Intervals and Tests to Sampling Variances</h1>

    <div class="hidden name"><code>conv.wald.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to convert Wald-type confidence intervals (CIs) and test statistics (or the corresponding p-values) to sampling variances. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">conv.wald</span><span class="op">(</span><span class="va">out</span>, <span class="va">ci.lb</span>, <span class="va">ci.ub</span>, <span class="va">zval</span>, <span class="va">pval</span>, <span class="va">n</span>, <span class="va">data</span>, <span class="va">include</span>,</span>
<span>          level<span class="op">=</span><span class="fl">95</span>, <span class="va">transf</span>, check<span class="op">=</span><span class="cn">TRUE</span>, <span class="va">var.names</span>, append<span class="op">=</span><span class="cn">TRUE</span>, replace<span class="op">=</span><span class="st">"ifna"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-out">out<a class="anchor" aria-label="anchor" href="#arg-out"></a></dt>
<dd><p>vector with the observed effect sizes or outcomes.</p></dd>

   <dt id="arg-ci-lb">ci.lb<a class="anchor" aria-label="anchor" href="#arg-ci-lb"></a></dt>
<dd><p>vector with the lower bounds of the corresponding Wald-type CIs.</p></dd>

   <dt id="arg-ci-ub">ci.ub<a class="anchor" aria-label="anchor" href="#arg-ci-ub"></a></dt>
<dd><p>vector with the upper bounds of the corresponding Wald-type CIs.</p></dd>

   <dt id="arg-zval">zval<a class="anchor" aria-label="anchor" href="#arg-zval"></a></dt>
<dd><p>vector with the Wald-type test statistics.</p></dd>

   <dt id="arg-pval">pval<a class="anchor" aria-label="anchor" href="#arg-pval"></a></dt>
<dd><p>vector with the p-values of the Wald-type tests.</p></dd>

   <dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>vector with the total sample sizes of the studies.</p></dd>

   <dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>optional data frame containing the variables given to the arguments above.</p></dd>

   <dt id="arg-include">include<a class="anchor" aria-label="anchor" href="#arg-include"></a></dt>
<dd><p>optional (logical or numeric) vector to specify the subset of studies for which the conversion should be carried out.</p></dd>

   <dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>numeric value (or vector) to specify the confidence interval level(s) (the default is 95; see <a href="misc-options.html">here</a> for details).</p></dd>

   <dt id="arg-transf">transf<a class="anchor" aria-label="anchor" href="#arg-transf"></a></dt>
<dd><p>optional argument to specify a function to transform <code>out</code>, <code>ci.lb</code>, and <code>ci.ub</code> (e.g., <code>transf=log</code>). If unspecified, no transformation is used.</p></dd>

   <dt id="arg-check">check<a class="anchor" aria-label="anchor" href="#arg-check"></a></dt>
<dd><p>logical to specify whether the function should carry out a check to examine if the point estimates fall (approximately) halfway between the CI bounds (the default is <code>TRUE</code>).</p></dd>

   <dt id="arg-var-names">var.names<a class="anchor" aria-label="anchor" href="#arg-var-names"></a></dt>
<dd><p>character vector with two elements to specify the name of the variable for the observed effect sizes or outcomes and the name of the variable for the corresponding sampling variances (if <code>data</code> is an object of class <code>"escalc"</code>, the <code>var.names</code> are taken from the object; otherwise the defaults are <code>"yi"</code> and <code>"vi"</code>).</p></dd>

   <dt id="arg-append">append<a class="anchor" aria-label="anchor" href="#arg-append"></a></dt>
<dd><p>logical to specify whether the data frame provided via the <code>data</code> argument should be returned together with the estimated values (the default is <code>TRUE</code>).</p></dd>

   <dt id="arg-replace">replace<a class="anchor" aria-label="anchor" href="#arg-replace"></a></dt>
<dd><p>character string or logical to specify how values in <code>var.names</code> should be replaced (only relevant when using the <code>data</code> argument and if variables in <code>var.names</code> already exist in the data frame). See the ‘Value’ section for more details.</p></dd>

   <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other arguments.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code><a href="escalc.html">escalc</a></code> function can be used to compute a wide variety of effect sizes or ‘outcome measures’. However, the inputs required to compute certain measures with this function may not be reported for all of the studies. Under certain circumstances, other information (such as point estimates and corresponding confidence intervals and/or test statistics) may be available that can be converted into the appropriate format needed for a meta-analysis. The purpose of the present function is to facilitate this process.</p>
<p>The function typically takes a data frame created with the <code><a href="escalc.html">escalc</a></code> function as input via the <code>data</code> argument. This object should contain variables <code>yi</code> and <code>vi</code> (unless argument <code>var.names</code> was used to adjust these variable names when the <code>"escalc"</code> object was created) for the observed effect sizes or outcomes and the corresponding sampling variances, respectively. For some studies, the values for these variables may be missing.</p>
<p></p><div class="section">
<h3 id="converting-point-estimates-and-confidence-intervals">Converting Point Estimates and Confidence Intervals<a class="anchor" aria-label="anchor" href="#converting-point-estimates-and-confidence-intervals"></a></h3>


<p>In some studies, the effect size estimate or observed outcome may already be reported. If so, such values can be supplied via the <code>out</code> argument and are then substituted for missing <code>yi</code> values. At times, it may be necessary to transform the reported values (e.g., reported odds ratios to log odds ratios). Via argument <code>transf</code>, an appropriate transformation function can be specified (e.g., <code>transf=log</code>), in which case <em></em>\(y_i = f(\text{out})\) where <em></em>\(f(\cdot)\) is the function specified via <code>transf</code>.</p>
<p>Moreover, a confidence interval (CI) may have been reported together with the estimate. The bounds of the CI can be supplied via arguments <code>ci.lb</code> and <code>ci.ub</code>, which are also transformed if a function is specified via <code>transf</code>. Assume that the bounds were obtained from a Wald-type CI of the form <em></em>\(y_i \pm z_{crit} \sqrt{v_i}\) (on the transformed scale if <code>transf</code> is specified), where <em></em>\(v_i\) is the sampling variance corresponding to the effect size estimate or observed outcome (so that <em></em>\(\sqrt{v_i}\) is the corresponding standard error) and <em></em>\(z_{crit}\) is the appropriate critical value from a standard normal distribution (e.g., <em></em>\(1.96\) for a 95% CI). Then \[v_i = \left(\frac{\text{ci.ub} - \text{ci.lb}}{2 \times z_{crit}}\right)^2\] is used to back-calculate the sampling variances of the (transformed) effect size estimates or observed outcomes and these values are then substituted for missing <code>vi</code> values in the dataset.</p>
<p>For example, consider the following dataset of three RCTs used as input for a meta-analysis of log odds ratios:</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>study <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>                  cases.trt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">23</span>, <span class="cn">NA</span>, <span class="fl">4</span><span class="op">)</span>, n.trt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">194</span>, <span class="fl">183</span>, <span class="fl">46</span><span class="op">)</span>,</span>
<span>                  cases.plc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">38</span>, <span class="cn">NA</span>, <span class="fl">7</span><span class="op">)</span>, n.plc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">201</span>, <span class="fl">188</span>, <span class="fl">44</span><span class="op">)</span>,</span>
<span>                  oddsratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">0.64</span>, <span class="cn">NA</span><span class="op">)</span>, lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">0.33</span>, <span class="cn">NA</span><span class="op">)</span>, upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">1.22</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"OR"</span>, ai<span class="op">=</span><span class="va">cases.trt</span>, n1i<span class="op">=</span><span class="va">n.trt</span>, ci<span class="op">=</span><span class="va">cases.plc</span>, n2i<span class="op">=</span><span class="va">n.plc</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="va">dat</span></span>
<span></span>
<span><span class="co">#   study cases.trt n.trt cases.plc n.plc oddsratio lower upper      yi     vi</span></span>
<span><span class="co"># 1     1        23   194        38   201        NA    NA    NA -0.5500 0.0818</span></span>
<span><span class="co"># 2     2        NA   183        NA   188      0.64  0.33  1.22      NA     NA</span></span>
<span><span class="co"># 3     3         4    46         7    44        NA    NA    NA -0.6864 0.4437</span></span></code></pre></div>

<p>where variable <code>yi</code> contains the log odds ratios and <code>vi</code> the corresponding sampling variances as computed from the counts and group sizes by <code><a href="escalc.html">escalc()</a></code>.</p>
<p>Study 2 does not report the counts (or sufficient information to reconstruct them), but the odds ratio and a corresponding 95% confidence interval (CI) directly, as given by variables <code>oddsratio</code>, <code>lower</code>, and <code>upper</code>. The CI is a standard Wald-type CI that was computed on the log scale (and whose bounds were then exponentiated). Then the present function can be used as follows:</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/conv.wald.html">conv.wald</a></span><span class="op">(</span>out<span class="op">=</span><span class="va">oddsratio</span>, ci.lb<span class="op">=</span><span class="va">lower</span>, ci.ub<span class="op">=</span><span class="va">upper</span>, data<span class="op">=</span><span class="va">dat</span>, transf<span class="op">=</span><span class="va">log</span><span class="op">)</span></span>
<span><span class="va">dat</span></span>
<span></span>
<span><span class="co">#   study cases.trt n.trt cases.plc n.plc oddsratio lower upper      yi     vi</span></span>
<span><span class="co"># 1     1        23   194        38   201        NA    NA    NA -0.5500 0.0818</span></span>
<span><span class="co"># 2     2        NA   183        NA   188      0.64  0.33  1.22 -0.4463 0.1113</span></span>
<span><span class="co"># 3     3         4    46         7    44        NA    NA    NA -0.6864 0.4437</span></span></code></pre></div>

<p>Now variables <code>yi</code> and <code>vi</code> in the dataset are complete.</p>
<p>If the CI was not a 95% CI, then one can specify the appropriate level via the <code>level</code> argument. This can also be an entire vector in case different studies used different levels.</p>
<p>By default (i.e., when <code>check=TRUE</code>), the function carries out a rough check to examine if the point estimate falls (approximately) halfway between the CI bounds (on the transformed scale) for each study for which the conversion was carried out. A warning is issued if there are studies where this is not the case. This may indicate that a particular CI was not a Wald-type CI or was computed on a different scale (in which case the back-calculation above would be inappropriate), but can also arise due to rounding of the reported values (in which case the back-calculation would still be appropriate, albeit possibly a bit inaccurate). Care should be taken when using such back-calculated values in a meta-analysis.</p>
<p></p>
</div>

<p></p><div class="section">
<h3 id="converting-test-statistics-and-p-values">Converting Test Statistics and P-Values<a class="anchor" aria-label="anchor" href="#converting-test-statistics-and-p-values"></a></h3>


<p>Similarly, study authors may report the test statistic and/or p-value from a Wald-type test of the form <em></em>\(\text{zval} = y_i / \sqrt{v_i}\) (on the transformed scale if <code>transf</code> is specified), with the corresponding two-sided p-value given by <em></em>\(\text{pval} = 2(1 - \Phi(\text{|zval|}))\), where <em></em>\(\Phi(\cdot)\) denotes the cumulative distribution function of a standard normal distribution (i.e., <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></code>). Test statistics and/or corresponding p-values of this form can be supplied via arguments <code>zval</code> and <code>pval</code>.</p>
<p>A given p-value can be back-transformed into the corresponding test statistic (if it is not already available) with <em></em>\(\text{zval} = \Phi^{-1}(1 - \text{pval}/2)\), where <em></em>\(\Phi^{-1}(\cdot)\) denotes the quantile function (i.e., the inverse of the cumulative distribution function) of a standard normal distribution (i.e., <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></code>). Then \[v_i = \left(\frac{y_i}{\text{zval}}\right)^2\] is used to back-calculate a missing <code>vi</code> value in the dataset.</p>
<p>Note that the conversion of a p-value to the corresponding test statistic (which is then converted into sampling variance) as shown above assumes that the exact p-value is reported. If authors only report that the p-value fell below a certain threshold (e.g., <em></em>\(p &lt; .01\) or if authors only state that the test was significant – which typically implies <em></em>\(p &lt; .05\)), then a common approach is to use the value of the cutoff reported (e.g., if <em></em>\(p &lt; .01\) is reported, then assume <em></em>\(p = .01\)), which is conservative (since the actual p-value was below that assumed value by some unknown amount). The conversion will therefore tend to be much less accurate.</p>
<p>Using the earlier example, suppose that only the odds ratio and the corresponding two-sided p-value from a Wald-type test (whether the log odds ratio differs significantly from zero) is reported for study 2.</p>
<div class="sourceCode"><pre><code>
dat &lt;- data.frame(study = 1:3,
                  cases.trt = c(23, NA, 4), n.trt = c(194, 183, 46),
                  cases.plc = c(38, NA, 7), n.plc = c(201, 188, 44),
                  oddsratio = c(NA, 0.64, NA), pval = c(NA, 0.17, NA))
dat &lt;- escalc(measure="OR", ai=cases.trt, n1i=n.trt, ci=cases.plc, n2i=n.plc, data=dat)
dat

  study cases.trt n.trt cases.plc n.plc oddsratio pval      yi     vi
1     1        23   194        38   201        NA   NA -0.5500 0.0818
2     2        NA   183        NA   188      0.64 0.17      NA     NA
3     3         4    46         7    44        NA   NA -0.6864 0.4437</code></pre></div>

<p>Then the function can be used as follows:</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/conv.wald.html">conv.wald</a></span><span class="op">(</span>out<span class="op">=</span><span class="va">oddsratio</span>, pval<span class="op">=</span><span class="va">pval</span>, data<span class="op">=</span><span class="va">dat</span>, transf<span class="op">=</span><span class="va">log</span><span class="op">)</span></span>
<span><span class="va">dat</span></span>
<span></span>
<span><span class="co">#   study cases.trt n.trt cases.plc n.plc oddsratio pval      yi     vi</span></span>
<span><span class="co"># 1     1        23   194        38   201        NA   NA -0.5500 0.0818</span></span>
<span><span class="co"># 2     2        NA   183        NA   188      0.64 0.17 -0.4463 0.1058</span></span>
<span><span class="co"># 3     3         4    46         7    44        NA   NA -0.6864 0.4437</span></span></code></pre></div>

<p>Note that the back-calculated sampling variance for study 2 is not identical in these two examples, because the CI bounds and p-value are rounded to two decimal places, which introduces some inaccuracies. Also, if both (<code>ci.lb</code>, <code>ci.ub</code>) and either <code>zval</code> or <code>pval</code> is available for a study, then the back-calculation of <em></em>\(v_i\) via the confidence interval is preferred.</p>
<p></p>
</div>

<p>Optionally, one can use the <code>n</code> argument to supply the total sample sizes of the studies. This has no relevance for the calculations done by the present function, but some other functions may use this information (e.g., when drawing a funnel plot with the <code><a href="funnel.html">funnel</a></code> function and one adjusts the <code>yaxis</code> argument to one of the options that puts the sample sizes or some transformation thereof on the y-axis).</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>If the <code>data</code> argument was not specified or <code>append=FALSE</code>, a data frame of class <code>c("escalc","data.frame")</code> with two variables called <code>var.names[1]</code> (by default <code>"yi"</code>) and <code>var.names[2]</code> (by default <code>"vi"</code>) with the (transformed) observed effect sizes or outcomes and the corresponding sampling variances (computed as described above).</p>
<p>If <code>data</code> was specified and <code>append=TRUE</code>, then the original data frame is returned. If <code>var.names[1]</code> is a variable in <code>data</code> and <code>replace="ifna"</code> (or <code>replace=FALSE</code>), then only missing values in this variable are replaced with the (possibly transformed) observed effect sizes or outcomes from <code>out</code> (where possible) and otherwise a new variable called <code>var.names[1]</code> is added to the data frame. Similarly, if <code>var.names[2]</code> is a variable in <code>data</code> and <code>replace="ifna"</code> (or <code>replace=FALSE</code>), then only missing values in this variable are replaced with the sampling variances back-calculated as described above (where possible) and otherwise a new variable called <code>var.names[2]</code> is added to the data frame.</p>
<p>If <code>replace="all"</code> (or <code>replace=TRUE</code>), then all values in <code>var.names[1]</code> and <code>var.names[2]</code> are replaced, even for cases where the value in <code>var.names[1]</code> and <code>var.names[2]</code> is not missing.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p><b>A word of caution</b>: Except for the check on the CI bounds, there is no possibility to determine if the back-calculations done by the function are appropriate in a given context. They are only appropriate when the CI bounds and tests statistics (or p-values) arose from Wald-type CIs / tests as described above. Using the same back-calculations for other purposes is likely to yield nonsensical values.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Wolfgang Viechtbauer (<a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a>, <a href="https://www.metafor-project.org" class="external-link">https://www.metafor-project.org</a>).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1–48. <a href="https://doi.org/10.18637/jss.v036.i03" class="external-link">https://doi.org/10.18637/jss.v036.i03</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="escalc.html">escalc</a></code> for a function to compute various effect size measures.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### a very simple example</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>or<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.37</span>,<span class="fl">1.89</span><span class="op">)</span>, or.lb<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.03</span>,<span class="fl">1.60</span><span class="op">)</span>, or.ub<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.82</span>,<span class="fl">2.23</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     or or.lb or.ub</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.37  1.03  1.82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.89  1.60  2.23</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### convert the odds ratios and CIs into log odds ratios with corresponding sampling variances</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">conv.wald</span><span class="op">(</span>out<span class="op">=</span><span class="va">or</span>, ci.lb<span class="op">=</span><span class="va">or.lb</span>, ci.ub<span class="op">=</span><span class="va">or.ub</span>, data<span class="op">=</span><span class="va">dat</span>, transf<span class="op">=</span><span class="va">log</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     or or.lb or.ub     yi     vi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.37  1.03  1.82 0.3148 0.0211 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.89  1.60  2.23 0.6366 0.0072 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############################################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### a more elaborate example based on the BCG vaccine dataset</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  author year tpos  tneg cpos  cneg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               Aronson 1948    4   119   11   128</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      Ferguson &amp; Simes 1949    6   300   29   274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       Rosenthal et al 1960    3   228   11   209</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     Hart &amp; Sutherland 1977   62 13536  248 12619</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Frimodt-Moller et al 1973   33  5036   47  5761</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       Stein &amp; Aronson 1953  180  1361  372  1079</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      Vandiviere et al 1973    8  2537   10   619</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            TPT Madras 1980  505 87886  499 87892</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      Coetzee &amp; Berjak 1968   29  7470   45  7232</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      Rosenthal et al 1961   17  1699   65  1600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       Comstock et al 1974  186 50448  141 27197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   Comstock &amp; Webster 1969    5  2493    3  2338</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       Comstock et al 1976   27 16886   29 17825</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### with complete data, we can use escalc() in the usual way</span></span></span>
<span class="r-in"><span><span class="va">dat1</span> <span class="op">&lt;-</span> <span class="fu"><a href="escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"OR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  author year tpos  tneg cpos  cneg      yi     vi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               Aronson 1948    4   119   11   128 -0.9387 0.3571 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      Ferguson &amp; Simes 1949    6   300   29   274 -1.6662 0.2081 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       Rosenthal et al 1960    3   228   11   209 -1.3863 0.4334 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     Hart &amp; Sutherland 1977   62 13536  248 12619 -1.4564 0.0203 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Frimodt-Moller et al 1973   33  5036   47  5761 -0.2191 0.0520 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       Stein &amp; Aronson 1953  180  1361  372  1079 -0.9581 0.0099 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      Vandiviere et al 1973    8  2537   10   619 -1.6338 0.2270 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            TPT Madras 1980  505 87886  499 87892  0.0120 0.0040 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      Coetzee &amp; Berjak 1968   29  7470   45  7232 -0.4717 0.0570 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      Rosenthal et al 1961   17  1699   65  1600 -1.4012 0.0754 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       Comstock et al 1974  186 50448  141 27197 -0.3408 0.0125 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   Comstock &amp; Webster 1969    5  2493    3  2338  0.4466 0.5342 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       Comstock et al 1976   27 16886   29 17825 -0.0173 0.0716 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### random-effects model fitted to these data</span></span></span>
<span class="r-in"><span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, data<span class="op">=</span><span class="va">dat1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Random-Effects Model (k = 13; tau^2 estimator: REML)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau^2 (estimated amount of total heterogeneity): 0.3378 (SE = 0.1784)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau (square root of estimated tau^2 value):      0.5812</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> I^2 (total heterogeneity / total variability):   92.07%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> H^2 (total variability / sampling variability):  12.61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for Heterogeneity:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Q(df = 12) = 163.1649, p-val &lt; .0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> estimate      se     zval    pval    ci.lb    ci.ub      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.7452  0.1860  -4.0057  &lt;.0001  -1.1098  -0.3806  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### now suppose that the 2x2 table data are not reported in all studies, but that the</span></span></span>
<span class="r-in"><span><span class="co">### following dataset could be assembled based on information reported in the studies</span></span></span>
<span class="r-in"><span><span class="va">dat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="print.rma.html">summary</a></span><span class="op">(</span><span class="va">dat1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yi"</span>, <span class="st">"ci.lb"</span>, <span class="st">"ci.ub"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="print.rma.html">summary</a></span><span class="op">(</span><span class="va">dat1</span>, transf<span class="op">=</span><span class="va">exp</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yi"</span>, <span class="st">"ci.lb"</span>, <span class="st">"ci.ub"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dat2</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dat2</span><span class="op">)</span> <span class="op">==</span> <span class="st">"yi"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"or"</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"or"</span>,<span class="st">"ci.lb"</span>,<span class="st">"ci.ub"</span>,<span class="st">"pval"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">dat2</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"or"</span>,<span class="st">"ci.lb"</span>,<span class="st">"ci.ub"</span>,<span class="st">"pval"</span><span class="op">)</span><span class="op">]</span>, digits<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">$</span><span class="va">vi</span> <span class="op">&lt;-</span> <span class="va">dat2</span><span class="op">$</span><span class="va">sei</span> <span class="op">&lt;-</span> <span class="va">dat2</span><span class="op">$</span><span class="va">zi</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">$</span><span class="va">ntot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">dat2</span>, <span class="va">tpos</span> <span class="op">+</span> <span class="va">tneg</span> <span class="op">+</span> <span class="va">cpos</span> <span class="op">+</span> <span class="va">cneg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">12</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">9</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">9</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">8</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">5</span><span class="op">:</span><span class="fl">8</span>,<span class="fl">10</span><span class="op">:</span><span class="fl">11</span>,<span class="fl">13</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">dat2</span><span class="op">$</span><span class="va">ntot</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">dat2</span><span class="op">$</span><span class="va">tpos</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">dat2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  author year tpos  tneg cpos  cneg   or pval ci.lb ci.ub  ntot</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               Aronson 1948   NA    NA   NA    NA 0.39 0.12    NA    NA   262</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      Ferguson &amp; Simes 1949    6   300   29   274   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       Rosenthal et al 1960    3   228   11   209   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     Hart &amp; Sutherland 1977   NA    NA   NA    NA 0.23   NA  0.18  0.31 26465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Frimodt-Moller et al 1973   33  5036   47  5761   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       Stein &amp; Aronson 1953  180  1361  372  1079   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      Vandiviere et al 1973    8  2537   10   619   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            TPT Madras 1980  505 87886  499 87892   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      Coetzee &amp; Berjak 1968   NA    NA   NA    NA 0.62   NA  0.39  1.00 14776</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      Rosenthal et al 1961   17  1699   65  1600   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       Comstock et al 1974  186 50448  141 27197   NA   NA    NA    NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   Comstock &amp; Webster 1969   NA    NA   NA    NA 1.56 0.54    NA    NA  4839</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       Comstock et al 1976   27 16886   29 17825   NA   NA    NA    NA    NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### in studies 1 and 12, authors reported only the odds ratio and the corresponding p-value</span></span></span>
<span class="r-in"><span><span class="co">### in studies 4 and 9, authors reported only the odds ratio and the corresponding 95% CI</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### use escalc() first</span></span></span>
<span class="r-in"><span><span class="va">dat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"OR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="va">dat2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  author year tpos  tneg cpos  cneg   or pval ci.lb ci.ub  ntot      yi     vi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               Aronson 1948   NA    NA   NA    NA 0.39 0.12    NA    NA   262      NA     NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      Ferguson &amp; Simes 1949    6   300   29   274   NA   NA    NA    NA    NA -1.6662 0.2081 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       Rosenthal et al 1960    3   228   11   209   NA   NA    NA    NA    NA -1.3863 0.4334 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     Hart &amp; Sutherland 1977   NA    NA   NA    NA 0.23   NA  0.18  0.31 26465      NA     NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Frimodt-Moller et al 1973   33  5036   47  5761   NA   NA    NA    NA    NA -0.2191 0.0520 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       Stein &amp; Aronson 1953  180  1361  372  1079   NA   NA    NA    NA    NA -0.9581 0.0099 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      Vandiviere et al 1973    8  2537   10   619   NA   NA    NA    NA    NA -1.6338 0.2270 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            TPT Madras 1980  505 87886  499 87892   NA   NA    NA    NA    NA  0.0120 0.0040 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      Coetzee &amp; Berjak 1968   NA    NA   NA    NA 0.62   NA  0.39  1.00 14776      NA     NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      Rosenthal et al 1961   17  1699   65  1600   NA   NA    NA    NA    NA -1.4012 0.0754 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       Comstock et al 1974  186 50448  141 27197   NA   NA    NA    NA    NA -0.3408 0.0125 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   Comstock &amp; Webster 1969   NA    NA   NA    NA 1.56 0.54    NA    NA  4839      NA     NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       Comstock et al 1976   27 16886   29 17825   NA   NA    NA    NA    NA -0.0173 0.0716 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### fill in the missing log odds ratios and sampling variances</span></span></span>
<span class="r-in"><span><span class="va">dat2</span> <span class="op">&lt;-</span> <span class="fu">conv.wald</span><span class="op">(</span>out<span class="op">=</span><span class="va">or</span>, ci.lb<span class="op">=</span><span class="va">ci.lb</span>, ci.ub<span class="op">=</span><span class="va">ci.ub</span>, pval<span class="op">=</span><span class="va">pval</span>, n<span class="op">=</span><span class="va">ntot</span>, data<span class="op">=</span><span class="va">dat2</span>, transf<span class="op">=</span><span class="va">log</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  author year tpos  tneg cpos  cneg   or pval ci.lb ci.ub  ntot      yi     vi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               Aronson 1948   NA    NA   NA    NA 0.39 0.12    NA    NA   262 -0.9416 0.3668 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      Ferguson &amp; Simes 1949    6   300   29   274   NA   NA    NA    NA    NA -1.6662 0.2081 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       Rosenthal et al 1960    3   228   11   209   NA   NA    NA    NA    NA -1.3863 0.4334 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     Hart &amp; Sutherland 1977   NA    NA   NA    NA 0.23   NA  0.18  0.31 26465 -1.4697 0.0192 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Frimodt-Moller et al 1973   33  5036   47  5761   NA   NA    NA    NA    NA -0.2191 0.0520 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       Stein &amp; Aronson 1953  180  1361  372  1079   NA   NA    NA    NA    NA -0.9581 0.0099 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      Vandiviere et al 1973    8  2537   10   619   NA   NA    NA    NA    NA -1.6338 0.2270 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            TPT Madras 1980  505 87886  499 87892   NA   NA    NA    NA    NA  0.0120 0.0040 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      Coetzee &amp; Berjak 1968   NA    NA   NA    NA 0.62   NA  0.39  1.00 14776 -0.4780 0.0577 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      Rosenthal et al 1961   17  1699   65  1600   NA   NA    NA    NA    NA -1.4012 0.0754 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       Comstock et al 1974  186 50448  141 27197   NA   NA    NA    NA    NA -0.3408 0.0125 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   Comstock &amp; Webster 1969   NA    NA   NA    NA 1.56 0.54    NA    NA  4839  0.4447 0.5266 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       Comstock et al 1976   27 16886   29 17825   NA   NA    NA    NA    NA -0.0173 0.0716 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### random-effects model fitted to these data</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, data<span class="op">=</span><span class="va">dat2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Random-Effects Model (k = 13; tau^2 estimator: REML)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau^2 (estimated amount of total heterogeneity): 0.3408 (SE = 0.1798)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau (square root of estimated tau^2 value):      0.5838</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> I^2 (total heterogeneity / total variability):   92.18%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> H^2 (total variability / sampling variability):  12.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for Heterogeneity:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Q(df = 12) = 167.4513, p-val &lt; .0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> estimate      se     zval    pval    ci.lb    ci.ub      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  -0.7472  0.1867  -4.0015  &lt;.0001  -1.1132  -0.3812  *** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### any differences between res1 and res2 are a result of or, ci.lb, ci.ub, and pval being</span></span></span>
<span class="r-in"><span><span class="co">### rounded in dat2 to two decimal places; without rounding, the results would be identical</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    appId: 'SFWCWKDGL8',

    apiKey: 'b56f56470243cf9799f796a3d6ecaedd',
    indexName: 'metafor',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

