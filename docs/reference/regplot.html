<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. -->
<meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script>

<title>Scatter Plots / Bubble Plots — regplot • metafor</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- Flatly Theme - Light  -->
<link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">

<!-- Darkly Theme - Dark -->
<link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">

<!-- preferably CSS -->
<link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">

  <script src="../darkswitch.js"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Scatter Plots / Bubble Plots — regplot" />
<meta property="og:description" content="Function to create scatter plots / bubble plots based on meta-regression models. " />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@wviechtb" />
<meta name="twitter:site" content="@wviechtb" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>




<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.5-101</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/index.php/jss/article/view/v036i03/v36i03.pdf">JSS Article (pdf)</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
        <li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fas fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fas fa-github"></span>
     
  </a>
</li>
        
        


      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Scatter Plots / Bubble Plots</h1>
    
    <div class="hidden name"><code>regplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to create scatter plots / bubble plots based on meta-regression models. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <pre class="usage"><span class='fu'>regplot</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for rma</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>mod</span>, pred<span class='op'>=</span><span class='cn'>TRUE</span>, ci<span class='op'>=</span><span class='cn'>TRUE</span>, pi<span class='op'>=</span><span class='cn'>FALSE</span>, shade<span class='op'>=</span><span class='cn'>TRUE</span>,
        <span class='va'>xlim</span>, <span class='va'>ylim</span>, <span class='va'>predlim</span>, <span class='va'>olim</span>, <span class='va'>xlab</span>, <span class='va'>ylab</span>, <span class='va'>at</span>, digits<span class='op'>=</span><span class='fl'>2L</span>,
        <span class='va'>transf</span>, <span class='va'>atransf</span>, <span class='va'>targs</span>, level<span class='op'>=</span><span class='va'>x</span><span class='op'>$</span><span class='va'>level</span>,
        pch<span class='op'>=</span><span class='fl'>21</span>, <span class='va'>psize</span>, plim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>,<span class='fl'>3</span><span class='op'>)</span>, col<span class='op'>=</span><span class='st'>"black"</span>, bg<span class='op'>=</span><span class='st'>"darkgray"</span>,
        grid<span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>refline</span>, label<span class='op'>=</span><span class='cn'>FALSE</span>, offset<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span>, labsize<span class='op'>=</span><span class='fl'>1</span>,
        <span class='va'>lcol</span>, <span class='va'>lwd</span>, <span class='va'>lty</span>, legend<span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>xvals</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an object of class <code>"rma.uni"</code>, <code>"rma.mv"</code>, or <code>"rma.glmm"</code> including one or multiple moderators.</p></td>
    </tr>
    <tr>
      <th>mod</th>
      <td><p>either a scalar to specify the position of the moderator variable in the model or a character string to specify the name of the moderator variable.</p></td>
    </tr>
    <tr>
      <th>pred</th>
      <td><p>logical to indicate whether the (marginal) regression line based on the moderator should be added to the plot (the default is <code>TRUE</code>). Can also be an object from <code><a href='predict.rma.html'>predict.rma</a></code>. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>logical to indicate whether the corresponding confidence interval bounds should be added to the plot (the default is <code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>pi</th>
      <td><p>logical to indicate whether the corresponding prediction interval bounds should be added to the plot (the default is <code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>shade</th>
      <td><p>logical to indicate whether the confidence/prediction interval regions should be shaded (the default is <code>TRUE</code>). Can also be a two-element character vector to specify the colors for shading the confidence and prediction interval regions (if shading only the former, a single color can also be specified).</p></td>
    </tr>
    <tr>
      <th>xlim</th>
      <td><p>x-axis limits. If unspecified, the function tries to set the x-axis limits to some sensible values.</p></td>
    </tr>
    <tr>
      <th>ylim</th>
      <td><p>y-axis limits. If unspecified, the function tries to set the y-axis limits to some sensible values.</p></td>
    </tr>
    <tr>
      <th>predlim</th>
      <td><p>optional argument to specify the limits of the (marginal) regression line. If unspecified, the limits are based on the range of the moderator variable.</p></td>
    </tr>
    <tr>
      <th>olim</th>
      <td><p>optional argument to specify observation/outcome limits. If unspecified, no limits are used.</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>title for the x-axis. If unspecified, the function tries to set an appropriate axis title.</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>title for the y-axis. If unspecified, the function tries to set an appropriate axis title.</p></td>
    </tr>
    <tr>
      <th>at</th>
      <td><p>position of the y-axis tick marks and corresponding labels. If unspecified, the function tries to set the tick mark positions/labels to some sensible values.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>integer to specify the number of decimal places to which the tick mark labels of the y-axis should be rounded. When specifying an integer (e.g., <code>2L</code>), trailing zeros after the decimal mark are dropped for the y-axis labels. When specifying a numeric value (e.g., <code>2</code>), trailing zeros are retained.</p></td>
    </tr>
    <tr>
      <th>transf</th>
      <td><p>optional argument to specify a function that should be used to transform the observed outcomes, predicted values, and confidence/prediction interval bounds (e.g., <code>transf=exp</code>; see also <a href='transf.html'>transf</a>). If unspecified, no transformation is used.</p></td>
    </tr>
    <tr>
      <th>atransf</th>
      <td><p>optional argument to specify a function that should be used to transform the y-axis labels (e.g., <code>atransf=exp</code>; see also <a href='transf.html'>transf</a>). If unspecified, no transformation is used.</p></td>
    </tr>
    <tr>
      <th>targs</th>
      <td><p>optional arguments needed by the function specified via <code>transf</code> or <code>atransf</code>.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>numeric value between 0 and 100 to specify the confidence/prediction interval level (the default is to take the value from the object).</p></td>
    </tr>
    <tr>
      <th>pch</th>
      <td><p>plotting symbol to use for the observed outcomes. By default, a filled circle is used. Can also be a vector of values. See <code><a href='https://rdrr.io/r/graphics/points.html'>points</a></code> for other options.</p></td>
    </tr>
    <tr>
      <th>psize</th>
      <td><p>optional numeric value to specify the point sizes for the observed outcomes. If unspecified, the point sizes are a function of the model weights. Can also be a vector of values. Can also be a character string (either <code>"seinv"</code> or <code>"vinv"</code>) to make the point sizes proportional to the inverse standard errors or inverse sampling variances.</p></td>
    </tr>
    <tr>
      <th>plim</th>
      <td><p>numeric vector of length 2 to scale the point sizes (ignored when a numeric value or vector is specified for <code>psize</code>). See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>character string to specify the name of a color to use for plotting the observed outcomes (the default is <code>"black"</code>). Can also be a vector of color names.</p></td>
    </tr>
    <tr>
      <th>bg</th>
      <td><p>character string to specify the name of a background color for open plot symbols (the default is <code>"darkgray"</code>). Can also be a vector of color names.</p></td>
    </tr>
    <tr>
      <th>grid</th>
      <td><p>logical to specify whether a grid should be added to the plot. Can also be a color name.</p></td>
    </tr>
    <tr>
      <th>refline</th>
      <td><p>optional numeric value to specify the location of a horizontal reference line that should be added to the plot.</p></td>
    </tr>
    <tr>
      <th>label</th>
      <td><p>argument to control the labeling of the points (the default is <code>FALSE</code>). See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p>argument to control the distance between the points and the corresponding labels. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>labsize</th>
      <td><p>numeric value to control the size of the labels.</p></td>
    </tr>
    <tr>
      <th>lcol</th>
      <td><p>optional vector of (up to) four elements to specify the color of the regression line, of the confidence interval bounds, of the prediction interval bounds, and of the horizontal reference line.</p></td>
    </tr>
    <tr>
      <th>lty</th>
      <td><p>optional vector of (up to) four elements to specify the line type of the regression line, of the confidence interval bounds, of the prediction interval bounds, and of the horizontal reference line.</p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>optional vector of (up to) four elements to specify the line width of the regression line, of the confidence interval bounds, of the prediction interval bounds, and of the horizontal reference line.</p></td>
    </tr>
    <tr>
      <th>legend</th>
      <td><p>logical to indicate whether a legend should be added to the plot (the default is <code>FALSE</code>). Can also be a keyword to indicate the position of the legend (see <code><a href='https://rdrr.io/r/graphics/legend.html'>legend</a></code>).</p></td>
    </tr>
    <tr>
      <th>xvals</th>
      <td><p>optional numeric vector to specify the values of the moderator for which predicted values should be computed. Needs to be specified when passing an object from <code><a href='predict.rma.html'>predict.rma</a></code> to the <code>pred</code> argument. See &#8216;Details&#8217;.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function draws a scatter plot of the values of a moderator variable in a meta-regression model (on the x-axis) against the observed effect sizes or outcomes (on the y-axis). The regression line from the model (with corresponding confidence interval bounds) is added to the plot by default. These types of plots are also often referred to as &#8216;bubble plots&#8217; as the points are typically drawn in different sizes to reflect their precision or weight in the model.</p>
<p>By default (i.e., when <code>psize</code> is not specified), the size of the points is a function of the square root of the model weights. This way, their area is proportional to the the weights. However, the point sizes are rescaled so that the smallest point size is <code>plim[1]</code> and the largest point size is <code>plim[2]</code>. As a result, their relative sizes (i.e., areas) no longer exactly correspond to their relative weights. If exactly relative point sizes are desired, one can set <code>plim[2]</code> to <code>NA</code>, in which case the points are rescaled so that the smallest point size corresponds to <code>plim[1]</code> and all other points are scaled accordingly. As a result, the largest point may be very large. Alternatively, one can set <code>plim[1]</code> to <code>NA</code>, in which case the points are rescaled so that the largest point size corresponds to <code>plim[2]</code> and all other points are scaled accordingly. As a result, the smallest point may be very small. To avoid the latter, one can also set <code>plim[3]</code>, which enforces a minimal point size.</p>
<p>One can also set <code>psize</code> to a scalar (e.g., <code>psize=1</code>) to avoid that the points are drawn in different sizes. One can also specify the point sizes manually by passing a vector of the appropriate length to <code>psize</code>. Finally, one can also set <code>psize</code> to either <code>"seinv"</code> or <code>"vinv"</code> to make the point sizes proportional to the inverse standard errors or inverse sampling variances.</p>
<p>For a model with more than one predictor, the regression line reflects the &#8216;marginal&#8217; relationship between the chosen moderator and the effect sizes or outcomes (i.e., all other moderators except the one being plotted are held constant at their means).</p>
<p>With the <code>label</code> argument, one can control whether points in the plot will be labeled. If <code>label="all"</code> (or <code>label=TRUE</code>), all points in the plot will be labeled. If <code>label="ciout"</code> or <code>label="piout"</code>, points falling outside of the confidence/prediction interval will be labeled. Alternatively, one can set this argument to a logical or numeric vector to specify which points should be labeled. The labels are placed above the points when they fall above the regression line and otherwise below. With the <code>offset</code> argument, one can adjust the distance between the labels and the corresponding points. This can either be a single numeric value, which is used as a multiplicative factor for the point sizes (so that the distance between labels and points is larger for larger points) or a numeric vector with two values, where the first is used as an additive factor independent of the point sizes and the second again as a multiplicative factor for the point sizes. The values are given as percentages of the y-axis range. It may take some trial and error to find two values for the <code>offset</code> argument so that the labels are placed right next to the boundary of the points. With <code>labsize</code>, one can control the size of the labels.</p>
<p>One can also pass an object from <code><a href='predict.rma.html'>predict.rma</a></code> to the <code>pred</code> argument. This can be useful when the meta-regression model reflects a more complex relationship between the moderator variable and the effect sizes or outcomes (e.g., when using polynomials or splines) or when the model involves interactions. In this case, one also needs to specify the <code>xvals</code> argument. See &#8216;Examples&#8217;.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>For certain types of models, it may not be possible to draw the prediction interval bounds (if this is the case, a warning will be issued).</p>
<p>When specifying vectors for <code>pch</code>, <code>psize</code>, <code>col</code>, <code>bg</code>, and/or <code>label</code>, the variables specified are assumed to be of the same length as the data passed to the model fitting function. Any subsetting and removal of studies with missing values is automatically applied to the variables specified via these arguments.</p>
<p>If the outcome measure used for creating the plot is bounded (e.g., correlations are bounded between -1 and +1, proportions are bounded between 0 and 1), one can use the <code>olim</code> argument to enforce those limits (the observed outcomes and confidence/prediction intervals cannot exceed those bounds then).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with components:</p>
<dt>slab</dt><dd><p>the study labels</p></dd>
   <dt>ids</dt><dd><p>the study ids</p></dd>
   <dt>xi</dt><dd><p>the x-axis coordinates of the points that were plotted.</p></dd>
   <dt>yi</dt><dd><p>the y-axis coordinates of the points that were plotted.</p></dd>
   <dt>pch</dt><dd><p>the plotting symbols of the points that were plotted.</p></dd>
   <dt>psize</dt><dd><p>the point sizes of the points that were plotted.</p></dd>
   <dt>col</dt><dd><p>the colors of the points that were plotted.</p></dd>
   <dt>bg</dt><dd><p>the background colors of the points that were plotted.</p></dd>
   <dt>label</dt><dd><p>logical vector indicating whether a point was labeled or not.</p></dd>
   Note that the data frame is returned invisibly.

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='https://www.metafor-project.org'>https://www.metafor-project.org</a></p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Thompson, S. G., &amp; Higgins, J. P. T. (2002). How should meta-regression analyses be undertaken and interpreted? <em>Statistics in Medicine</em>, <b>21</b>(11), 1559--1573. <a href='https://doi.org/10.1002/sim.1187'>https://doi.org/10.1002/sim.1187</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='https://doi.org/10.18637/jss.v036.i03'>https://doi.org/10.18637/jss.v036.i03</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='rma.uni.html'>rma.uni</a></code>, <code><a href='rma.glmm.html'>rma.glmm</a></code>, <code><a href='rma.mv.html'>rma.mv</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### copy BCG vaccine data into 'dat'</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat.bcg</span>

<span class='co'>### calculate log risk ratios and corresponding sampling variances</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='escalc.html'>escalc</a></span><span class='op'>(</span>measure<span class='op'>=</span><span class='st'>"RR"</span>, ai<span class='op'>=</span><span class='va'>tpos</span>, bi<span class='op'>=</span><span class='va'>tneg</span>, ci<span class='op'>=</span><span class='va'>cpos</span>, di<span class='op'>=</span><span class='va'>cneg</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>

<span class='co'>### fit mixed-effects model with absolute latitude as a moderator</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>ablat</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='va'>res</span>
</div><div class='co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.0764 (SE = 0.0591)
#&gt; tau (square root of estimated tau^2 value):             0.2763
#&gt; I^2 (residual heterogeneity / unaccounted variability): 68.39%
#&gt; H^2 (unaccounted variability / sampling variability):   3.16
#&gt; R^2 (amount of heterogeneity accounted for):            75.62%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 11) = 30.7331, p-val = 0.0012
#&gt; 
#&gt; Test of Moderators (coefficient 2):
#&gt; QM(df = 1) = 16.3571, p-val &lt; .0001
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;          estimate      se     zval    pval    ci.lb    ci.ub 
#&gt; intrcpt    0.2515  0.2491   1.0095  0.3127  -0.2368   0.7397      
#&gt; ablat     -0.0291  0.0072  -4.0444  &lt;.0001  -0.0432  -0.0150  *** 
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### draw plot</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-1.png' alt='' width='864' height='768' /></div><div class='input'>
<span class='co'>### adjust x-axis limits and back-transform to risk ratios</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span>, xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, transf<span class='op'>=</span><span class='va'>exp</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-2.png' alt='' width='864' height='768' /></div><div class='input'>
<span class='co'>### also extend the prediction limits for the regression line</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span>, xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, predlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, transf<span class='op'>=</span><span class='va'>exp</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-3.png' alt='' width='864' height='768' /></div><div class='input'>
<span class='co'>### add the prediction interval to the plot, add a reference line at 1, and add a legend</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, pi<span class='op'>=</span><span class='cn'>TRUE</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span>,
        xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, predlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, transf<span class='op'>=</span><span class='va'>exp</span>, refline<span class='op'>=</span><span class='fl'>1</span>, legend<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-4.png' alt='' width='864' height='768' /></div><div class='input'>
<span class='co'>### label points outside of the prediction interval</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, pi<span class='op'>=</span><span class='cn'>TRUE</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span>,
        xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, predlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, transf<span class='op'>=</span><span class='va'>exp</span>, refline<span class='op'>=</span><span class='fl'>1</span>, legend<span class='op'>=</span><span class='cn'>TRUE</span>,
        label<span class='op'>=</span><span class='st'>"piout"</span>, labsize<span class='op'>=</span><span class='fl'>0.8</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-5.png' alt='' width='864' height='768' /></div><div class='input'>
<span class='co'>### fit mixed-effects model with absolute latitude and publication year as moderators</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>ablat</span> <span class='op'>+</span> <span class='va'>year</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='va'>res</span>
</div><div class='co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.1108 (SE = 0.0845)
#&gt; tau (square root of estimated tau^2 value):             0.3328
#&gt; I^2 (residual heterogeneity / unaccounted variability): 71.98%
#&gt; H^2 (unaccounted variability / sampling variability):   3.57
#&gt; R^2 (amount of heterogeneity accounted for):            64.63%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 28.3251, p-val = 0.0016
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 12.2043, p-val = 0.0022
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;          estimate       se     zval    pval     ci.lb    ci.ub 
#&gt; intrcpt   -3.5455  29.0959  -0.1219  0.9030  -60.5724  53.4814     
#&gt; ablat     -0.0280   0.0102  -2.7371  0.0062   -0.0481  -0.0080  ** 
#&gt; year       0.0019   0.0147   0.1299  0.8966   -0.0269   0.0307     
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### plot the marginal relationships</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-6.png' alt='' width='864' height='768' /></div><div class='input'><span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"year"</span>,  xlab<span class='op'>=</span><span class='st'>"Publication Year"</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-7.png' alt='' width='864' height='768' /></div><div class='input'>
<span class='co'>### fit a quadratic polynomial meta-regression model</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rma.uni.html'>rma</a></span><span class='op'>(</span><span class='va'>yi</span>, <span class='va'>vi</span>, mods <span class='op'>=</span> <span class='op'>~</span> <span class='va'>ablat</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/AsIs.html'>I</a></span><span class='op'>(</span><span class='va'>ablat</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='va'>res</span>
</div><div class='co'>#&gt; 
#&gt; Mixed-Effects Model (k = 13; tau^2 estimator: REML)
#&gt; 
#&gt; tau^2 (estimated amount of residual heterogeneity):     0.0806 (SE = 0.0658)
#&gt; tau (square root of estimated tau^2 value):             0.2840
#&gt; I^2 (residual heterogeneity / unaccounted variability): 66.62%
#&gt; H^2 (unaccounted variability / sampling variability):   3.00
#&gt; R^2 (amount of heterogeneity accounted for):            74.26%
#&gt; 
#&gt; Test for Residual Heterogeneity:
#&gt; QE(df = 10) = 28.4961, p-val = 0.0015
#&gt; 
#&gt; Test of Moderators (coefficients 2:3):
#&gt; QM(df = 2) = 16.9151, p-val = 0.0002
#&gt; 
#&gt; Model Results:
#&gt; 
#&gt;             estimate      se     zval    pval    ci.lb   ci.ub 
#&gt; intrcpt      -0.3889  0.6285  -0.6188  0.5360  -1.6207  0.8429    
#&gt; ablat         0.0218  0.0464   0.4699  0.6385  -0.0692  0.1128    
#&gt; I(ablat^2)   -0.0008  0.0007  -1.1100  0.2670  -0.0022  0.0006    
#&gt; 
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; </div><div class='input'>
<span class='co'>### compute predicted values using predict()</span>
<span class='va'>xs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span>,length<span class='op'>=</span><span class='fl'>601</span><span class='op'>)</span>
<span class='va'>tmp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='predict.rma.html'>predict</a></span><span class='op'>(</span><span class='va'>res</span>, newmods<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='va'>xs</span>, <span class='va'>xs</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>### can now pass these results to the 'pred' argument (and have to specify xvals accordingly)</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, pred<span class='op'>=</span><span class='va'>tmp</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span>, xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, xvals<span class='op'>=</span><span class='va'>xs</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-8.png' alt='' width='864' height='768' /></div><div class='input'>
<span class='co'>### back-transform to risk ratios and add reference line</span>
<span class='fu'>regplot</span><span class='op'>(</span><span class='va'>res</span>, mod<span class='op'>=</span><span class='st'>"ablat"</span>, pred<span class='op'>=</span><span class='va'>tmp</span>, xlab<span class='op'>=</span><span class='st'>"Absolute Latitude"</span>, xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>60</span><span class='op'>)</span>, xvals<span class='op'>=</span><span class='va'>xs</span>,
        transf<span class='op'>=</span><span class='va'>exp</span>, refline<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>
</div><div class='img'><img src='regplot-9.png' alt='' width='864' height='768' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9001, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


