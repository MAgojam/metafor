<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Forest Plots (Method for 'rma' Objects) — forest.rma • metafor</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Forest Plots (Method for 'rma' Objects) — forest.rma"><meta property="og:description" content='Function to create forest plots for objects of class "rma". '><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@wviechtb"><meta name="twitter:site" content="@wviechtb"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"><script src="../darkswitch.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.1-8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/pkgdown/diagram.html">Diagram</a>
</li>
<li>
  <a href="https://www.jstatsoft.org/article/view/v036i03" class="external-link">JSS Article</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        <li>
  <a href="https://twitter.com/wviechtb" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
        
        


      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Forest Plots (Method for 'rma' Objects)</h1>
    
    <div class="hidden name"><code>forest.rma.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to create forest plots for objects of class <code>"rma"</code>. <script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for rma</span></span>
<span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">x</span>, annotate<span class="op">=</span><span class="cn">TRUE</span>, addfit<span class="op">=</span><span class="cn">TRUE</span>, addpred<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>       showweights<span class="op">=</span><span class="cn">FALSE</span>, header<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>       <span class="va">xlim</span>, <span class="va">alim</span>, <span class="va">olim</span>, <span class="va">ylim</span>, <span class="va">at</span>, steps<span class="op">=</span><span class="fl">5</span>,</span>
<span>       level<span class="op">=</span><span class="va">x</span><span class="op">$</span><span class="va">level</span>, refline<span class="op">=</span><span class="fl">0</span>, digits<span class="op">=</span><span class="fl">2L</span>, <span class="va">width</span>,</span>
<span>       <span class="va">xlab</span>, <span class="va">slab</span>, <span class="va">mlab</span>, <span class="va">ilab</span>, <span class="va">ilab.xpos</span>, <span class="va">ilab.pos</span>,</span>
<span>       <span class="va">order</span>, <span class="va">transf</span>, <span class="va">atransf</span>, <span class="va">targs</span>, <span class="va">rows</span>,</span>
<span>       efac<span class="op">=</span><span class="fl">1</span>, <span class="va">pch</span>, <span class="va">psize</span>, plim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>,<span class="fl">1.5</span><span class="op">)</span>, <span class="va">colout</span>, <span class="va">col</span>, <span class="va">border</span>,</span>
<span>       <span class="va">shade</span>, <span class="va">colshade</span>, <span class="va">lty</span>, <span class="va">fonts</span>, <span class="va">cex</span>, <span class="va">cex.lab</span>, <span class="va">cex.axis</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>an object of class <code>"rma"</code>.</p></dd>

   <dt>annotate</dt>
<dd><p>logical to specify whether annotations should be added to the plot (the default is <code>TRUE</code>).</p></dd>

   <dt>addfit</dt>
<dd><p>logical to specify whether the summary estimate (for models without moderators) or fitted values (for models with moderators) should be added to the plot (the default is <code>TRUE</code>). See ‘Details’.</p></dd>

   <dt>addpred</dt>
<dd><p>logical to specify whether the bounds of the prediction interval should be added to the plot (the default is <code>FALSE</code>). See ‘Details’.</p></dd>

   <dt>showweights</dt>
<dd><p>logical to specify whether the annotations should also include the weights given to the observed outcomes during the model fitting (the default is <code>FALSE</code>). See ‘Details’.</p></dd>

   <dt>header</dt>
<dd><p>logical to specify whether column headings should be added to the plot (the default is <code>FALSE</code>). Can also be a character vector to specify the left and right headings  (or only the left one).</p></dd>

   <dt>xlim</dt>
<dd><p>horizontal limits of the plot region. If unspecified, the function tries to set the horizontal plot limits to some sensible values.</p></dd>

   <dt>alim</dt>
<dd><p>the x-axis limits. If unspecified, the function tries to set the x-axis limits to some sensible values.</p></dd>

   <dt>olim</dt>
<dd><p>optional argument to specify observation/outcome limits. If unspecified, no limits are used.</p></dd>

   <dt>ylim</dt>
<dd><p>the y-axis limits of the plot. If unspecified, the function tries to set the y-axis limits to some sensible values.</p></dd>

   <dt>at</dt>
<dd><p>position of the x-axis tick marks and corresponding labels. If unspecified, the function tries to set the tick mark positions/labels to some sensible values.</p></dd>

   <dt>steps</dt>
<dd><p>the number of tick marks for the x-axis (the default is 5). Ignored when the positions are specified via the <code>at</code> argument.</p></dd>

   <dt>level</dt>
<dd><p>numeric value between 0 and 100 to specify the confidence interval level (see <a href="misc-options.html">here</a> for details). The default is to take the value from the object.</p></dd>

   <dt>refline</dt>
<dd><p>numeric value to specify the location of the vertical ‘reference’ line (the default is 0). The line can be suppressed by setting this argument to <code>NA</code>.</p></dd>

   <dt>digits</dt>
<dd><p>integer to specify the number of decimal places to which the tick mark labels of the x-axis and the annotations should be rounded (the default is <code>2L</code>). Can also be a vector of two integers, the first to specify the number of decimal places for the annotations, the second for the x-axis labels (when <code>showweights=TRUE</code>, can also specify a third value for the weights). When specifying an integer (e.g., <code>2L</code>), trailing zeros after the decimal mark are dropped for the x-axis labels. When specifying a numeric value (e.g., <code>2</code>), trailing zeros are retained.</p></dd>

   <dt>width</dt>
<dd><p>optional integer to manually adjust the width of the columns for the annotations (either a single integer or a vector of the same length as the number of annotation columns).</p></dd>

   <dt>xlab</dt>
<dd><p>title for the x-axis. If unspecified, the function tries to set an appropriate axis title. Can also be a vector of three/two values (to also/only add labels at the end points of the x-axis limits).</p></dd>

   <dt>slab</dt>
<dd><p>optional vector with labels for the <em></em>\(k\) studies. If unspecified, the function tries to extract study labels from <code>x</code> or simple labels are created within the function. To suppress labels, set this argument to <code>NA</code>.</p></dd>

   <dt>mlab</dt>
<dd><p>optional character string giving a label to the summary estimate from an equal- or a random-effects model. If unspecified, the label is created within the function.</p></dd>

   <dt>ilab</dt>
<dd><p>optional vector, matrix, or data frame providing additional information about the studies that should be added to the plot.</p></dd>

   <dt>ilab.xpos</dt>
<dd><p>numeric vector to specify the horizontal position(s) of the variable(s) given via <code>ilab</code>.</p></dd>

   <dt>ilab.pos</dt>
<dd><p>integer(s) (either 1, 2, 3, or 4) to specify the alignment of the vector(s) given via <code>ilab</code> (2 means right, 4 mean left aligned). If unspecified, the default is to center the labels.</p></dd>

   <dt>order</dt>
<dd><p>optional character string to specify how the studies should be ordered. Can also be a variable based on which the studies will be ordered. See ‘Details’.</p></dd>

   <dt>transf</dt>
<dd><p>optional argument to specify a function to transform the observed outcomes, summary estimates, fitted values, and confidence interval bounds (e.g., <code>transf=exp</code>; see also <a href="transf.html">transf</a>). If unspecified, no transformation is used.</p></dd>

   <dt>atransf</dt>
<dd><p>optional argument to specify a function to transform the x-axis labels and annotations (e.g., <code>atransf=exp</code>; see also <a href="transf.html">transf</a>). If unspecified, no transformation is used.</p></dd>

   <dt>targs</dt>
<dd><p>optional arguments needed by the function specified via <code>transf</code> or <code>atransf</code>.</p></dd>

   <dt>rows</dt>
<dd><p>optional vector to specify the rows (or more generally, the horizontal positions) for plotting the outcomes. Can also be a single value to specify the row (horizontal position) of the first outcome (the remaining outcomes are then plotted below this starting row). If unspecified, the function sets this value automatically.</p></dd>

   <dt>efac</dt>
<dd><p>vertical expansion factor for confidence interval limits, arrows, and the symbol used to denote summary estimates. The default value of 1 should usually work okay. Can also be a vector of two numbers, the first for CI limits and arrows, the second for summary estimates. Can also be a vector of three numbers, the first for CI limits, the second for arrows, the third for summary estimates.</p></dd>

   <dt>pch</dt>
<dd><p>plotting symbol to use for the observed outcomes. By default, a filled square is used. See <code><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></code> for other options. Can also be a vector of values.</p></dd>

   <dt>psize</dt>
<dd><p>optional numeric value to specify the point sizes for the observed outcomes. If unspecified, the point sizes are a function of the model weights. Can also be a vector of values.</p></dd>

   <dt>plim</dt>
<dd><p>numeric vector of length 2 to scale the point sizes (ignored when <code>psize</code> is specified). See ‘Details’.</p></dd>

   <dt>colout</dt>
<dd><p>optional character string to specify the color to use for plotting the observed outcomes (<code>"black"</code> is used by default if not specified). Can also be a vector.</p></dd>

   <dt>col</dt>
<dd><p>optional character string to specify the color to use for the summary polygon or fitted values. If unspecified, the function sets a default color.</p></dd>

   <dt>border</dt>
<dd><p>optional character string to specify the color to use for the border of the summary polygon or fitted values. If unspecified, the function sets a default color.</p></dd>

   <dt>shade</dt>
<dd><p>optional character string or a (logical or numeric) vector for shading rows of the plot. See ‘Details’.</p></dd>

   <dt>colshade</dt>
<dd><p>optional argument to specify the color for the shading. If unspecified, a light shade of gray is used.</p></dd>

   <dt>lty</dt>
<dd><p>optional character string to specify the line type for the confidence intervals. If unspecified, the function sets this to <code>"solid"</code> by default.</p></dd>

   <dt>fonts</dt>
<dd><p>optional character string to specify the font to use for the study labels, annotations, and the extra information (if specified via <code>ilab</code>). If unspecified, the default font is used.</p></dd>

   <dt>cex</dt>
<dd><p>optional character and symbol expansion factor. If unspecified, the function tries to set this to a sensible value.</p></dd>

   <dt>cex.lab</dt>
<dd><p>optional expansion factor for the x-axis title. If unspecified, the function tries to set this to a sensible value.</p></dd>

   <dt>cex.axis</dt>
<dd><p>optional expansion factor for the x-axis labels. If unspecified, the function tries to set this to a sensible value.</p></dd>

   <dt>...</dt>
<dd><p>other arguments.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The plot shows the observed effect sizes or outcomes with corresponding confidence intervals.</p>
<p>For an equal- and a random-effects model (i.e., for models without moderators), a four-sided polygon, sometimes called a summary ‘diamond’, is added to the bottom of the forest plot, showing the summary estimate based on the model (with the center of the polygon corresponding to the estimate and the left/right edges indicating the confidence interval limits). The <code>col</code> and <code>border</code> arguments can be used to adjust the (border) color of the polygon. Drawing of the polgyon can be suppressed by setting <code>addfit=FALSE</code>.</p>
<p>For random-effects models and if <code>addpred=TRUE</code>, a dotted line is added to the summary polygon which indicates the bounds of the prediction interval (the interval estimates where <code>level</code> % of the true outcomes are expected to fall) (Riley et al., 2011). For random-effects models of class <code>"rma.mv"</code> (see <code><a href="rma.mv.html">rma.mv</a></code>) with multiple <em></em>\(\tau^2\) values, the <code>addpred</code> argument can be used to specify for which level of the inner factor the prediction interval should be provided (since the intervals differ depending on the <em></em>\(\tau^2\) value). If the model should also contain multiple <em></em>\(\gamma^2\) values, the <code>addpred</code> argument should then be of length 2 to specify the levels of both inner factors. See also <code><a href="predict.rma.html">predict.rma</a></code>, which is used to compute these interval bounds.</p>
<p>For meta-regression models (i.e., models involving moderators), the fitted value for each study is added as a polygon to the plot. By default, the width of the polygons corresponds to the confidence interval limits for the fitted values. By setting <code>addpred=TRUE</code>, the width reflects the prediction interval limits. Again, the <code>col</code> and <code>border</code> arguments can be used to adjust the (border) color of the polygons. These polygons can be suppressed by setting <code>addfit=FALSE</code>.</p>
<p>With the <code>transf</code> argument, the observed outcomes, summary estimate, fitted values, confidence interval bounds, and prediction interval bounds can be transformed with some suitable function. For example, when plotting log odds ratios, one could use <code>transf=exp</code> to obtain a forest plot showing the odds ratios. Alternatively, one can use the <code>atransf</code> argument to transform the x-axis labels and annotations (e.g., <code>atransf=exp</code>). See also <a href="transf.html">transf</a> for some other useful transformation functions in the context of a meta-analysis. The examples below illustrate the use of these arguments.</p>
<p>By default, the studies are ordered from top to bottom (i.e., the first study in the dataset will be placed in row <em></em>\(k\), the second study in row <em></em>\(k-1\), and so on, until the last study, which is placed in the first row). The studies can be reordered with the <code>order</code> argument:</p><ul><li><p><code>order="obs"</code>: the studies are ordered by the observed outcomes,</p></li>
<li><p><code>order="fit"</code>: the studies are ordered by the fitted values,</p></li>
<li><p><code>order="prec"</code>: the studies are ordered by their sampling variances,</p></li>
<li><p><code>order="resid"</code>: the studies are ordered by the size of their residuals,</p></li>
<li><p><code>order="rstandard"</code>: the studies are ordered by the size of their standardized residuals,</p></li>
<li><p><code>order="abs.resid"</code>: the studies are ordered by the size of their absolute residuals,</p></li>
<li><p><code>order="abs.rstandard"</code>: the studies are ordered by the size of their absolute standardized residuals.</p></li>
</ul><p>Alternatively, it is also possible to set <code>order</code> equal to a variable based on which the studies will be ordered (see ‘Examples’).</p>
<p>Additional columns with information about the studies can be added to the plot via the <code>ilab</code> argument. This can either be a single variable or an entire matrix / data frame (with as many rows as there are studies in the forest plot). The <code>ilab.xpos</code> argument can then also be specified to indicate the horizontal position of the variables specified via <code>ilab</code>.</p>
<p>The figure below illustrates how the elements in a forest plot can be arranged and the meaning of the some of the arguments such as <code>xlim</code>, <code>alim</code> or <code>at</code>, <code>ilab</code>, and <code>ilab.xpos</code>.</p>
<p><img src="figures/forest-arrangement.png" width="800"></p>
<p>The figure corresponds to the following code: </p><div class="sourceCode"><pre><code><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"RR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span><span class="op">)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, data<span class="op">=</span><span class="va">dat</span>, slab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">author</span>, <span class="va">year</span>, sep<span class="op">=</span><span class="st">", "</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, addpred<span class="op">=</span><span class="cn">TRUE</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">16</span>,<span class="fl">7</span><span class="op">)</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>,<span class="fl">2</span>,by<span class="op">=</span><span class="fl">1</span><span class="op">)</span>, shade<span class="op">=</span><span class="st">"zebra"</span>,</span>
<span>       ilab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">tpos</span>, <span class="va">tneg</span>, <span class="va">cpos</span>, <span class="va">cneg</span><span class="op">)</span>, ilab.xpos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9.5</span>,<span class="op">-</span><span class="fl">8</span>,<span class="op">-</span><span class="fl">6</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>,</span>
<span>       cex<span class="op">=</span><span class="fl">0.75</span>, header<span class="op">=</span><span class="st">"Author(s) and Year"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9.5</span>,<span class="op">-</span><span class="fl">8</span>,<span class="op">-</span><span class="fl">6</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>, <span class="va">res</span><span class="op">$</span><span class="va">k</span><span class="op">+</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TB+"</span>, <span class="st">"TB-"</span>, <span class="st">"TB+"</span>, <span class="st">"TB-"</span><span class="op">)</span>, cex<span class="op">=</span><span class="fl">0.75</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8.75</span>,<span class="op">-</span><span class="fl">5.25</span><span class="op">)</span>,     <span class="va">res</span><span class="op">$</span><span class="va">k</span><span class="op">+</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Vaccinated"</span>, <span class="st">"Control"</span><span class="op">)</span>,    cex<span class="op">=</span><span class="fl">0.75</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p></p>
<p>Additional summary estimates can be added to the plot with the <code><a href="addpoly.html">addpoly</a></code> function. See the documentation for that function for examples.</p>
<p>When <code>showweights=TRUE</code>, the annotations will include information about the weights given to the observed outcomes during the model fitting. For simple models (such as those fitted with the <code><a href="rma.uni.html">rma.uni</a></code> function), these weights correspond to the ‘inverse-variance weights’ (but are given in percent). For models fitted with the <code><a href="rma.mv.html">rma.mv</a></code> function, the weights are based on the diagonal of the weight matrix. Note that the weighting structure is typically more complex in such models (i.e., the weight matrix is usually not just a diagonal matrix) and the weights shown therefore do not reflect this complexity. See <code><a href="weights.rma.html">weights.rma</a></code> for more details (for the special case that <code>x</code> is an intercept-only <code>"rma.mv"</code> model, one can also set <code>showweights="rowsum"</code> to show the ‘row-sum weights’).</p>
<p>By default (i.e., when <code>psize</code> is not specified), the point sizes are a function of the square root of the model weights. This way, their areas are proportional to the weights. However, the point sizes are rescaled so that the smallest point size is <code>plim[1]</code> and the largest point size is <code>plim[2]</code>. As a result, their relative sizes (i.e., areas) no longer exactly correspond to their relative weights. If exactly relative point sizes are desired, one can set <code>plim[2]</code> to <code>NA</code>, in which case the points are rescaled so that the smallest point size corresponds to <code>plim[1]</code> and all other points are scaled accordingly. As a result, the largest point may be very large. Alternatively, one can set <code>plim[1]</code> to <code>NA</code>, in which case the points are rescaled so that the largest point size corresponds to <code>plim[2]</code> and all other points are scaled accordingly. As a result, the smallest point may be very small and essentially indistinguishable from the confidence interval line. To avoid the latter, one can also set <code>plim[3]</code>, which enforces a minimal point size.</p>
<p>With the <code>shade</code> argument, one can shade rows of the plot. The argument can be set to one of the following character strings: <code>"zebra"</code> or <code>"zebra2"</code> to use zebra-style shading (starting either at the first or second study) or to <code>"all"</code> in which case all rows are shaded. Alternatively, the argument can be set to a logical vector to indicates for which studies the rows should be shaded. Finally, the argument can also be a numeric vector to indicate which rows to shade.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The function tries to set some sensible values for the optional arguments, but it may be necessary to adjust these in certain circumstances.</p>
<p>The function actually returns some information about the chosen values invisibly. Printing this information is useful as a starting point to make adjustments to the plot (see ‘Examples’).</p>
<p>Arguments <code>slab</code> and <code>ilab</code> and when specifying vectors for arguments <code>pch</code>, <code>psize</code>, <code>order</code>, and/or <code>colout</code> (and when <code>shade</code> is a logical vector), the variables specified are assumed to be of the same length as the data originally passed to the model fitting function (and if the <code>data</code> argument was used in the original model fit, then the variables will be searched for within this data frame first). Any subsetting and removal of studies with missing values is automatically applied to the variables specified via these arguments.</p>
<p>If the number of studies is quite large, the labels, annotations, and symbols may become quite small and impossible to read. Stretching the plot window vertically may then provide a more readable figure (one should call the function again after adjusting the window size, so that the label/symbol sizes can be properly adjusted). Also, the <code>cex</code>, <code>cex.lab</code>, and <code>cex.axis</code> arguments are then useful to adjust the symbol and text sizes.</p>
<p>If the horizontal plot and/or x-axis limits are set manually, then the horizontal plot limits (<code>xlim</code>) must be at least as wide as the x-axis limits (<code>alim</code>). This restriction is enforced inside the function.</p>
<p>If the outcome measure used for creating the plot is bounded (e.g., correlations are bounded between -1 and +1, proportions are bounded between 0 and 1), one can use the <code>olim</code> argument to enforce those limits (the observed outcomes and confidence/prediction intervals cannot exceed those bounds then).</p>
<p>The models without moderators, the <code>col</code> argument can also be a vector of two elements, the first for specifying the color of the summary polygon, the second for specifying the color of the line for the prediction interval.</p>
<p>The <code>lty</code> argument can also be a vector of up to three elements, the first for specifying the line type of the individual CIs (<code>"solid"</code> by default), the second for the line type of the prediction interval (<code>"dotted"</code> by default), the third for the line type of the horizontal lines that are automatically added to the plot (<code>"solid"</code> by default; set to <code>"blank"</code> to remove them).</p>
    </div>
    <div id="additional-arguments">
    <h2>Additional Arguments</h2>
    <p>There are some additional arguments that can be passed to the function via <code>...</code> (hence, they cannot be abbreviated):</p><dl><dt>top</dt>
<dd><p>the amount of space to leave empty at the top of the plot (e.g., for adding headers) (the default is 3 rows).</p></dd>

   <dt>annosym</dt>
<dd><p>optional vector of length 3 to select the left bracket, separation, and right bracket symbols for the annotations (the default is <code>c(" [", ", ", "]")</code>). Can also include a 4th element to adjust the look of the minus symbol, for example to use a proper minus (−) sign instead of a hyphen-minus (-).</p></dd>

   <dt>textpos</dt>
<dd><p>optional vector of length 2 to specify the placement of the study labels and the annotations (the default is to use the horizontal limits of the plot region, i.e., the study labels to the right of <code>xlim[1]</code> and the annotations to the left of <code>xlim[2]</code>).</p></dd>

   <dt>rowadj</dt>
<dd><p>optional vector of length 3 to vertically adjust the position of the study labels, the annotations, and the extra information (if specified via <code>ilab</code>). This is useful for fine-tuning the position of text added with different positional alignments (i.e., argument <code>pos</code> in the <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code> function).</p></dd>

   
</dl></div>
    <div id="author">
    <h2>Author</h2>
    <p>Wolfgang Viechtbauer <a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a> <a href="https://www.metafor-project.org" class="external-link">https://www.metafor-project.org</a></p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Lewis, S., &amp; Clarke, M. (2001). Forest plots: Trying to see the wood and the trees. <em>British Medical Journal</em>, <b>322</b>(7300), 1479–1480. <a href="https://doi.org/10.1136/bmj.322.7300.1479" class="external-link">https://doi.org/10.1136/bmj.322.7300.1479</a></p>
<p>Riley, R. D., Higgins, J. P. T., &amp; Deeks, J. J. (2011). Interpretation of random effects meta-analyses. <em>British Medical Journal</em>, <b>342</b>, d549. <a href="https://doi.org/10.1136/bmj.d549" class="external-link">https://doi.org/10.1136/bmj.d549</a></p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1–48. <a href="https://doi.org/10.18637/jss.v036.i03" class="external-link">https://doi.org/10.18637/jss.v036.i03</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="forest.html">forest</a></code> for an overview of the various <code>forest</code> functions and <code><a href="forest.default.html">forest.default</a></code> for the function draw forest plots without a summary polygon.</p>
<p><code><a href="rma.uni.html">rma.uni</a></code>, <code><a href="rma.mh.html">rma.mh</a></code>, <code><a href="rma.peto.html">rma.peto</a></code>, <code><a href="rma.glmm.html">rma.glmm</a></code>, and <code><a href="rma.mv.html">rma.mv</a></code> for functions to fit models for which forest plots can be drawn.</p>
<p><code><a href="addpoly.html">addpoly</a></code> for a function to add polygons to forest plots.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### meta-analysis of the log risk ratios using a random-effects model</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"RR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span>,</span></span>
<span class="r-in"><span>           slab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">author</span>, <span class="va">year</span>, sep<span class="op">=</span><span class="st">", "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### default forest plot of the log risk ratios and summary estimate</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, header<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### summary estimate in row -1; studies in rows k=13 through 1; horizontal</span></span></span>
<span class="r-in"><span><span class="co">### lines in rows 0 and k+1; two extra lines of space at the top for headings,</span></span></span>
<span class="r-in"><span><span class="co">### and other annotations; headings (if requested) in line k+2</span></span></span>
<span class="r-in"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>xpd<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span>x<span class="op">=</span><span class="op">-</span><span class="fl">8.4</span>, y<span class="op">=</span><span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">16</span>, <span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">16</span>, pos<span class="op">=</span><span class="fl">4</span>, cex<span class="op">=</span><span class="fl">0.6</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-1.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### can also inspect defaults chosen</span></span></span>
<span class="r-in"><span><span class="va">defaults</span> <span class="op">&lt;-</span> <span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-2.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="va">defaults</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $xlim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -7.74  5.08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $alim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -3  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $at</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -3 -2 -1  0  1  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ylim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1.5 16.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $rows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cex.lab</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cex.axis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ilab.xpos</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ilab.pos</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $textpos</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -7.74  5.08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $areas</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.40 0.35 0.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### several forest plots illustrating the use of various arguments</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, cex<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-3.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, cex<span class="op">=</span><span class="fl">0.8</span>, addpred<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-4.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, cex<span class="op">=</span><span class="fl">0.8</span>, alim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-5.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, cex<span class="op">=</span><span class="fl">0.8</span>, alim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, order<span class="op">=</span><span class="st">"prec"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-6.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, cex<span class="op">=</span><span class="fl">0.8</span>, alim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, order<span class="op">=</span><span class="st">"obs"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-7.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, cex<span class="op">=</span><span class="fl">0.8</span>, alim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, order<span class="op">=</span><span class="va">ablat</span>, addpred<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-8.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### adjust xlim values to see how that changes the plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-9.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"usr"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co"># this shows what xlim values were chosen by default</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -7.74  5.08</span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">16</span>,<span class="fl">14</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-10.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">18</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-11.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-12.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### illustrate transf argument</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, transf<span class="op">=</span><span class="va">exp</span>, at<span class="op">=</span><span class="fl">0</span><span class="op">:</span><span class="fl">7</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8</span>,<span class="fl">12</span><span class="op">)</span>, cex<span class="op">=</span><span class="fl">0.8</span>, refline<span class="op">=</span><span class="fl">1</span>, header<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-13.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### illustrate atransf argument</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, atransf<span class="op">=</span><span class="va">exp</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>,<span class="fl">0.25</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8</span>,<span class="fl">7</span><span class="op">)</span>, cex<span class="op">=</span><span class="fl">0.8</span>, header<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-14.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### showweights argument</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, atransf<span class="op">=</span><span class="va">exp</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>,<span class="fl">0.25</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8</span>,<span class="fl">8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       order<span class="op">=</span><span class="st">"prec"</span>, showweights<span class="op">=</span><span class="cn">TRUE</span>, cex<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-15.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### illustrade shade argument</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, header<span class="op">=</span><span class="cn">TRUE</span>, shade<span class="op">=</span><span class="st">"zebra"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-16.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, header<span class="op">=</span><span class="cn">TRUE</span>, shade<span class="op">=</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">1970</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-17.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, header<span class="op">=</span><span class="cn">TRUE</span>, shade<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-18.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### forest plot with extra annotations</span></span></span>
<span class="r-in"><span><span class="co">### note: may need to widen plotting device to avoid overlapping text</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, atransf<span class="op">=</span><span class="va">exp</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">16</span>,<span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       ilab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">tpos</span>, <span class="va">tneg</span>, <span class="va">cpos</span>, <span class="va">cneg</span><span class="op">)</span>, ilab.xpos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9.5</span>,<span class="op">-</span><span class="fl">8</span>,<span class="op">-</span><span class="fl">6</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       cex<span class="op">=</span><span class="fl">0.75</span>, header<span class="op">=</span><span class="st">"Author(s) and Year"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>cex<span class="op">=</span><span class="fl">0.75</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9.5</span>,<span class="op">-</span><span class="fl">8</span>,<span class="op">-</span><span class="fl">6</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>, <span class="va">res</span><span class="op">$</span><span class="va">k</span><span class="op">+</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TB+"</span>, <span class="st">"TB-"</span>, <span class="st">"TB+"</span>, <span class="st">"TB-"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8.75</span>,<span class="op">-</span><span class="fl">5.25</span><span class="op">)</span>,     <span class="va">res</span><span class="op">$</span><span class="va">k</span><span class="op">+</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Vaccinated"</span>, <span class="st">"Control"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-19.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### mixed-effects model with absolute latitude as moderator</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"RR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, mods <span class="op">=</span> <span class="op">~</span> <span class="va">ablat</span>,</span></span>
<span class="r-in"><span>           data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span>, slab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">author</span>, <span class="va">year</span>, sep<span class="op">=</span><span class="st">", "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### forest plot with observed and fitted values</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9</span>,<span class="fl">5</span><span class="op">)</span>, order<span class="op">=</span><span class="st">"fit"</span>, cex<span class="op">=</span><span class="fl">0.8</span>, ilab<span class="op">=</span><span class="va">ablat</span>,</span></span>
<span class="r-in"><span>       ilab.xpos<span class="op">=</span><span class="op">-</span><span class="fl">4</span>, atransf<span class="op">=</span><span class="va">exp</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>,<span class="fl">0.25</span>,<span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       header<span class="op">=</span><span class="st">"Author(s) and Year"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="va">res</span><span class="op">$</span><span class="va">k</span><span class="op">+</span><span class="fl">2</span>, <span class="st">"Latitude"</span>, cex<span class="op">=</span><span class="fl">0.8</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-20.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### meta-analysis of the log risk ratios using a random-effects model</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"RR"</span>, ai<span class="op">=</span><span class="va">tpos</span>, bi<span class="op">=</span><span class="va">tneg</span>, ci<span class="op">=</span><span class="va">cpos</span>, di<span class="op">=</span><span class="va">cneg</span>, data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.bcg.html" class="external-link">dat.bcg</a></span>,</span></span>
<span class="r-in"><span>           slab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">author</span>, <span class="va">year</span>, sep<span class="op">=</span><span class="st">", "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### for more complicated plots, the ylim and rows arguments may be useful</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">16</span><span class="op">)</span><span class="op">)</span> <span class="co"># the default</span></span></span>
<span class="r-plt img"><img src="forest.rma-21.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span> <span class="co"># extra space in plot</span></span></span>
<span class="r-plt img"><img src="forest.rma-22.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">20</span><span class="op">)</span>, rows<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">17</span><span class="op">:</span><span class="fl">15</span>, <span class="fl">12</span><span class="op">:</span><span class="fl">6</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="co"># set positions</span></span></span>
<span class="r-plt img"><img src="forest.rma-23.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### forest plot with subgrouping of studies</span></span></span>
<span class="r-in"><span><span class="co">### note: may need to widen plotting device to avoid overlapping text</span></span></span>
<span class="r-in"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">16</span>, <span class="fl">4.6</span><span class="op">)</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>, atransf<span class="op">=</span><span class="va">exp</span>,</span></span>
<span class="r-in"><span>              ilab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">tpos</span>, <span class="va">tneg</span>, <span class="va">cpos</span>, <span class="va">cneg</span><span class="op">)</span>, ilab.xpos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9.5</span>,<span class="op">-</span><span class="fl">8</span>,<span class="op">-</span><span class="fl">6</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              cex<span class="op">=</span><span class="fl">0.75</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">21</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              order<span class="op">=</span><span class="va">alloc</span>, rows<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">:</span><span class="fl">11</span>,<span class="fl">14</span><span class="op">:</span><span class="fl">17</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              header<span class="op">=</span><span class="st">"Author(s) and Year"</span>, shade<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">12</span>,<span class="fl">18</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>cex<span class="op">=</span><span class="fl">0.75</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9.5</span>,<span class="op">-</span><span class="fl">8</span>,<span class="op">-</span><span class="fl">6</span>,<span class="op">-</span><span class="fl">4.5</span><span class="op">)</span>, <span class="va">tmp</span><span class="op">$</span><span class="va">ylim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">-</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TB+"</span>, <span class="st">"TB-"</span>, <span class="st">"TB+"</span>, <span class="st">"TB-"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8.75</span>,<span class="op">-</span><span class="fl">5.25</span><span class="op">)</span>,     <span class="va">tmp</span><span class="op">$</span><span class="va">ylim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Vaccinated"</span>, <span class="st">"Control"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>font<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="op">-</span><span class="fl">16</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>,<span class="fl">12</span>,<span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Systematic Allocation"</span>, <span class="st">"Random Allocation"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"Alternate Allocation"</span><span class="op">)</span>, pos<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-24.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### see also the addpoly.rma function for an example where summaries</span></span></span>
<span class="r-in"><span><span class="co">### for the three subgroups are added to such a forest plot</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### illustrate use of olim argument with a meta-analysis of raw correlation</span></span></span>
<span class="r-in"><span><span class="co">### coefficients (data from Pritz, 1997); without olim=c(0,1), some of the</span></span></span>
<span class="r-in"><span><span class="co">### CIs would have upper bounds larger than 1</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="escalc.html">escalc</a></span><span class="op">(</span>measure<span class="op">=</span><span class="st">"PR"</span>, xi<span class="op">=</span><span class="va">xi</span>, ni<span class="op">=</span><span class="va">ni</span>, data<span class="op">=</span><span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.pritz1997.html" class="external-link">dat.pritz1997</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.uni.html">rma</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, data<span class="op">=</span><span class="va">dat</span>, slab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">study</span>, <span class="st">") "</span>, <span class="va">authors</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.8</span>,<span class="fl">1.6</span><span class="op">)</span>, alim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, psize<span class="op">=</span><span class="fl">1</span>, refline<span class="op">=</span><span class="fu"><a href="coef.rma.html">coef</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span>, olim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, header<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-25.png" alt="" width="864" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### an example of a forest plot where the data have a multilevel structure and</span></span></span>
<span class="r-in"><span><span class="co">### we want to reflect this by grouping together estimates from the same cluster</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://wviechtb.github.io/metadat/reference/dat.konstantopoulos2011.html" class="external-link">dat.konstantopoulos2011</a></span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="rma.mv.html">rma.mv</a></span><span class="op">(</span><span class="va">yi</span>, <span class="va">vi</span>, random <span class="op">=</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">|</span> <span class="va">district</span><span class="op">/</span><span class="va">school</span>, data<span class="op">=</span><span class="va">dat</span>,</span></span>
<span class="r-in"><span>              slab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"District "</span>, <span class="va">district</span>, <span class="st">", School: "</span>, <span class="va">school</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">district</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dd</span><span class="op">[</span><span class="va">dd</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">rows</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">res</span><span class="op">$</span><span class="va">k</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">dd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>tck<span class="op">=</span><span class="op">-</span><span class="fl">0.01</span>, mgp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.6</span>,<span class="fl">0.2</span>,<span class="fl">0</span><span class="op">)</span>, mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">8</span>,<span class="fl">1</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="forest.html">forest</a></span><span class="op">(</span><span class="va">res</span>, cex<span class="op">=</span><span class="fl">0.5</span>, header<span class="op">=</span><span class="cn">TRUE</span>, rows<span class="op">=</span><span class="va">rows</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>,<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">rows</span><span class="op">)</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>h <span class="op">=</span> <span class="va">rows</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">rows</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span> <span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="fl">1</span>, lty<span class="op">=</span><span class="st">"dotted"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="forest.rma-26.png" alt="" width="864" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    appId: 'SFWCWKDGL8',
    
    apiKey: 'b56f56470243cf9799f796a3d6ecaedd',
    indexName: 'metafor',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

